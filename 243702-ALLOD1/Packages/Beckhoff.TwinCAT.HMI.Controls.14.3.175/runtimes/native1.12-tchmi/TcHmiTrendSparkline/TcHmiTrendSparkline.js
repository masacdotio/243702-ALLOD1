"use strict";var TcHmi,__runInitializers=this&&this.__runInitializers||function(thisArg,initializers,value){for(var useValue=arguments.length>2,i=0;i<initializers.length;i++)value=useValue?initializers[i].call(thisArg,value):initializers[i].call(thisArg);return useValue?value:void 0},__esDecorate=this&&this.__esDecorate||function(ctor,descriptorIn,decorators,contextIn,initializers,extraInitializers){function accept(f){if(void 0!==f&&"function"!=typeof f)throw new TypeError("Function expected");return f}for(var _,kind=contextIn.kind,key="getter"===kind?"get":"setter"===kind?"set":"value",target=!descriptorIn&&ctor?contextIn.static?ctor:ctor.prototype:null,descriptor=descriptorIn||(target?Object.getOwnPropertyDescriptor(target,contextIn.name):{}),done=!1,i=decorators.length-1;i>=0;i--){var context={};for(var p in contextIn)context[p]="access"===p?{}:contextIn[p];for(var p in contextIn.access)context.access[p]=contextIn.access[p];context.addInitializer=function(f){if(done)throw new TypeError("Cannot add initializers after decoration has completed");extraInitializers.push(accept(f||null))};var result=(0,decorators[i])("accessor"===kind?{get:descriptor.get,set:descriptor.set}:descriptor[key],context);if("accessor"===kind){if(void 0===result)continue;if(null===result||"object"!=typeof result)throw new TypeError("Object expected");(_=accept(result.get))&&(descriptor.get=_),(_=accept(result.set))&&(descriptor.set=_),(_=accept(result.init))&&initializers.unshift(_)}else(_=accept(result))&&("field"===kind?initializers.unshift(_):descriptor[key]=_)}target&&Object.defineProperty(target,contextIn.name,descriptor),done=!0};!function(TcHmi){!function(Controls){!function(Beckhoff){let TcHmiTrendSparkline=(()=>{let ___rebuild_decorators,___openConnectionCallback_decorators,___onResolverForHistorizedSymbolsWatchCallback_decorators,___onResolverForLabelColorWatchCallback_decorators,___onResolverForYAxisColorWatchCallback_decorators,_classSuper=TcHmi.Controls.System.TcHmiControl,_instanceExtraInitializers=[];return class TcHmiTrendSparkline extends _classSuper{static{const _metadata="function"==typeof Symbol&&Symbol.metadata?Object.create(_classSuper[Symbol.metadata]??null):void 0;___rebuild_decorators=[TcHmi.CallbackMethod],___openConnectionCallback_decorators=[TcHmi.CallbackMethod],___onResolverForHistorizedSymbolsWatchCallback_decorators=[TcHmi.CallbackMethod],___onResolverForLabelColorWatchCallback_decorators=[TcHmi.CallbackMethod],___onResolverForYAxisColorWatchCallback_decorators=[TcHmi.CallbackMethod],__esDecorate(this,null,___rebuild_decorators,{kind:"method",name:"__rebuild",static:!1,private:!1,access:{has:obj=>"__rebuild"in obj,get:obj=>obj.__rebuild},metadata:_metadata},null,_instanceExtraInitializers),__esDecorate(this,null,___openConnectionCallback_decorators,{kind:"method",name:"__openConnectionCallback",static:!1,private:!1,access:{has:obj=>"__openConnectionCallback"in obj,get:obj=>obj.__openConnectionCallback},metadata:_metadata},null,_instanceExtraInitializers),__esDecorate(this,null,___onResolverForHistorizedSymbolsWatchCallback_decorators,{kind:"method",name:"__onResolverForHistorizedSymbolsWatchCallback",static:!1,private:!1,access:{has:obj=>"__onResolverForHistorizedSymbolsWatchCallback"in obj,get:obj=>obj.__onResolverForHistorizedSymbolsWatchCallback},metadata:_metadata},null,_instanceExtraInitializers),__esDecorate(this,null,___onResolverForLabelColorWatchCallback_decorators,{kind:"method",name:"__onResolverForLabelColorWatchCallback",static:!1,private:!1,access:{has:obj=>"__onResolverForLabelColorWatchCallback"in obj,get:obj=>obj.__onResolverForLabelColorWatchCallback},metadata:_metadata},null,_instanceExtraInitializers),__esDecorate(this,null,___onResolverForYAxisColorWatchCallback_decorators,{kind:"method",name:"__onResolverForYAxisColorWatchCallback",static:!1,private:!1,access:{has:obj=>"__onResolverForYAxisColorWatchCallback"in obj,get:obj=>obj.__onResolverForYAxisColorWatchCallback},metadata:_metadata},null,_instanceExtraInitializers),_metadata&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:_metadata})}static#tchmiFQN="TcHmi.Controls.Beckhoff."+this.name;constructor(element,pcElement,attrs){super(element,pcElement,attrs)}__elementTemplateRoot=__runInitializers(this,_instanceExtraInitializers);__historizedSymbols;__start;__internalStart=null;__end;__internalEnd=null;__serverDomain;__interval;__showLabel;__labelColor;__labelPosition;__labelFontFamily;__labelFontSize;__labelFontWeight;__showYAxis;__yAxisColor;__yAxisPosition;__yAxisWidth;__yLabelFontFamily;__yLabelFontSize;__yLabelFontWeight;__yAxisDecimalPlaces;__lineGraphDataFromServer=null;__lineGraphData=null;__subscriptionId=null;__lineCharts=[];__reconnectTimer=0;__reconnectTime=0;__localizedEngineeringElements=new Map;__localizationReader=void 0;__previnit(){if(this.__elementTemplateRoot=this.__element.find(".TcHmi_Controls_Beckhoff_TcHmiTrendSparkline-template"),0===this.__elementTemplateRoot.length&&(this.__elementTemplateRoot=this.__element.find(".tchmi-trend-sparkline-template")),0===this.__elementTemplateRoot.length)throw new Error("Invalid Template.html");if("undefined"==typeof TcHmiCharting)throw new Error("Missing needed TcHmiCharting library");TCHMI_DESIGNER&&this.__destroyOnDestroy.push(this.__localization.watchEx({level:TcHmi.Locale.Level.Engineering},(data=>{if(data.error===TcHmi.Errors.NONE&&data.reader){this.__localizationReader=data.reader;for(const[key,info]of this.__localizedEngineeringElements){let localizedText=data.reader.get(key);info.innerHTML=localizedText}}}))),super.__previnit()}__init(){super.__init()}__attach(){super.__attach(),this.__destroyOnDetach.push(TcHmi.EventProvider.register(this.__id+".onResized",this.__rebuild),TcHmi.EventProvider.register("onThemeDataChanged",this.__rebuild)),this.__openWebsocket()}__detach(){super.__detach(),null!==this.__subscriptionId&&(TcHmi.Server.unsubscribeEx(this.__subscriptionId,{parallel:!0}),this.__subscriptionId=null)}destroy(){this.__keepAlive||super.destroy()}__rebuild(_event,_ctrl){if(this.__isAttached&&!TCHMI_DESIGNER&&this.__historizedSymbols&&this.__historizedSymbols.length>0){const floodProtectionTime=500,now=Date.now();now-this.__reconnectTime>=floodProtectionTime?this.__openWebsocket():(clearTimeout(this.__reconnectTimer),this.__reconnectTimer=window.setTimeout((()=>{this.__reconnectTimer=0,this.__openWebsocket()}),floodProtectionTime),this.__drawLineChart()),this.__reconnectTime=now}else this.__drawLineChart()}__openWebsocket(){if(!this.__isAttached||!this.__attributesInitialized||TCHMI_DESIGNER){if(TCHMI_DESIGNER){const designerMessage=this.__element.find(".tchmi-designer-control-message")[0]??document.createElement("div");designerMessage.classList.add("tchmi-designer-control-message"),designerMessage.innerHTML="Engineering_Text",this.__localizedEngineeringElements.set("Engineering_Text",designerMessage),this.__localizationReader&&(designerMessage.innerHTML=this.__localizationReader.get("Engineering_Text")),this.__element[0].appendChild(designerMessage)}return}if(!this.__historizedSymbols||this.__historizedSymbols.length<=0||!this.__start||!this.__end)return;null!==this.__subscriptionId&&(TcHmi.Server.unsubscribeEx(this.__subscriptionId,{parallel:!0}),this.__subscriptionId=null);let width=this.__elementTemplateRoot.width(),charts=[];for(const item of this.__historizedSymbols)charts.push({symbol:item.symbol});let writeValue={chartName:this.__id,xAxisStart:this.__start,xAxisEnd:this.__end,yAxes:charts,displayWidth:width},writeValueWindow={chartName:this.__id,xAxisStart:this.__start,xAxisEnd:this.__end,yAxes:charts};this.__subscriptionId=TcHmi.Server.subscribeEx([{commandOptions:["SendErrorMessage"],symbol:this.__serverDomain+".GetTrendLineData",writeValue},{commandOptions:["SendErrorMessage"],symbol:this.__serverDomain+".GetTrendLineWindow",writeValue:writeValueWindow}],this.__interval??this.getAttributeDefaultValueInternal("Interval"),{parallel:!0},this.__openConnectionCallback)}__openConnectionCallback(result){if(result.error===TcHmi.Errors.NONE){if(result.response){if(result.response.error)return void TcHmi.Log.Controls.error(this,TcHmiTrendSparkline.#tchmiFQN,`Server responds with error. Details: ${TcHmi.Log.buildMessage(result.response.error)}`);if(result.response.commands){for(const{symbol,readValue,error}of result.response.commands){if(error||!readValue)return error&&TcHmi.Log.Controls.error(this,TcHmiTrendSparkline.#tchmiFQN,`Server responds with error for command for symbol=${symbol}. Details: ${TcHmi.Log.buildMessage(error)}`),void this.__reset();if(this.__subscriptionId)if(symbol===this.__serverDomain+".GetTrendLineData"){if(null!==this.__lineGraphDataFromServer&&this.__lineGraphDataFromServer.splice(0,this.__lineGraphDataFromServer.length),null!==this.__lineGraphData&&this.__lineGraphData.splice(0,this.__lineGraphData.length),readValue.axesData?.length>0){let lineGraphData=[];for(let i of readValue.axesData.keys()){let line=[];for(let j of readValue.axesData[i].keys()){let x=new Date(readValue.axesData[i][j].x).getTime();readValue.axesData[i][j].x=x,readValue.axesData[i][j].error&&j>0?(line[j-1].bindPoints=!1,line.push({x,isArea:!1,bindPoints:!0})):line.push({x,y:readValue.axesData[i][j].y,bindPoints:!0,isArea:!1})}lineGraphData.push(line)}this.__lineGraphData=lineGraphData,this.__lineGraphDataFromServer=readValue.axesData}}else symbol===this.__serverDomain+".GetTrendLineWindow"&&(this.__internalStart=readValue.xAxisStart,this.__internalEnd=readValue.xAxisEnd)}this.__drawLineChart()}else this.__reset()}}else TcHmi.Log.Controls.error(this,TcHmiTrendSparkline.#tchmiFQN,`Framework error=${result.error}, name=${TcHmi.Errors[result.error]} while fetching data from server.`)}__drawLineChart(){if(!this.__internalStart||!this.__internalEnd||!this.__lineGraphData)return void this.__reset();if(this.__historizedSymbols&&this.__lineCharts.length<this.__historizedSymbols.length){let height=(this.__elementTemplateRoot.height()||0)/this.__historizedSymbols.length,width=this.__elementTemplateRoot.width()||0;for(let i=0,ii=this.__lineCharts.length;i<ii;i++)this.__lineCharts[i].clear(width,height);for(let i=this.__lineCharts.length,ii=this.__historizedSymbols.length;i<ii;i++){let newChart=$('<div class="TcHmi_Controls_Beckhoff_TcHmiTrendSparkline-template-chart"><div class="TcHmi_Controls_Beckhoff_TcHmiTrendSparkline-chart"></div></div>'),elemChart=$(newChart.children(".TcHmi_Controls_Beckhoff_TcHmiTrendSparkline-chart"));newChart.attr("style","height: "+height+"px;"),this.__lineCharts.push(new TcHmiCharting.LineAreaChart(elemChart,this.__elementTemplateRoot.width()||0,height,TcHmiCharting.IChart.Position.Background)),this.__elementTemplateRoot.append(newChart)}}else if(!this.__historizedSymbols||this.__historizedSymbols&&this.__lineCharts.length>this.__historizedSymbols.length){let length=this.__historizedSymbols?.length??0;for(let i=this.__lineCharts.length-1,ii=length-1;i>=ii;i--)i>=length&&(this.__lineCharts[i].remove(),this.__lineCharts.splice(i,1),this.__elementTemplateRoot.children().last().remove())}let htmlElem=this.__elementTemplateRoot.children();for(let i=0,ii=htmlElem.length;i<ii;i++){let jqueryChart=$(htmlElem[i]);if(this.__showLabel){if(htmlElem[i].children.length<2){$('<div class="TcHmi_Controls_Beckhoff_TcHmiTrendSparkline-chart-label">'+(this.__historizedSymbols[i].displayName||this.__historizedSymbols[i].symbol)+"</div>").insertBefore(jqueryChart.children().first())}jqueryChart.find(".TcHmi_Controls_Beckhoff_TcHmiTrendSparkline-chart-label").css({fontSize:this.__labelFontSize??"12px",fontFamily:this.__labelFontFamily??"",fontWeight:this.__labelFontWeight??"auto",color:this.__labelColor?.color??TcHmi.Theme.Resources.get(this,"LabelColor").value?.color??"#4794da",textAlign:"Center"===this.__labelPosition?"center":"Right"===this.__labelPosition?"right":"left"})}else htmlElem[i].children.length>1&&jqueryChart.children().remove(".TcHmi_Controls_Beckhoff_TcHmiTrendSparkline-chart-label")}if(!this.__historizedSymbols)return;let height=(this.__elementTemplateRoot.height()||0)/this.__historizedSymbols.length,width=this.__elementTemplateRoot.width()||0;for(let i=0,ii=this.__lineCharts.length;i<ii;i++){let parent=$(this.__elementTemplateRoot.children(".TcHmi_Controls_Beckhoff_TcHmiTrendSparkline-template-chart")[i]),labelElem=parent.children(".TcHmi_Controls_Beckhoff_TcHmiTrendSparkline-chart-label"),chartElem=parent.children(".TcHmi_Controls_Beckhoff_TcHmiTrendSparkline-chart");parent.attr("style","height: "+height+"px;"),chartElem.attr("style","height: calc("+height+"px - "+(labelElem.height()||0)+"px);");let lineChart=this.__lineCharts[i];lineChart.clear(width,height-(labelElem.height()||0)),lineChart.addXAxis();let xAxis=lineChart.getXAxis();xAxis&&(xAxis.setShowAxis(!1),xAxis.setAxisWidth(1),xAxis.setMainTickSteps(2),xAxis.setDecimalPlaces(0),xAxis.setShowAxisName(!1),xAxis.setShowLabels(!1),xAxis.setMainTickStartValue(new Date(this.__internalStart).getTime()),xAxis.setMainTickEndValue(new Date(this.__internalEnd).getTime())),lineChart.addYAxis(TcHmi.ValueConverter.toEnum(this.__yAxisPosition,TcHmiTrendSparkline.Position,TcHmiTrendSparkline.Position.Right));let yAxis=lineChart.getYAxisAtPosition(0),lineGraphData=this.__lineGraphData[i];if(lineGraphData){if(yAxis){let showYAxis=this.__showYAxis??this.getAttributeDefaultValueInternal("ShowYAxis");if(lineChart.setYShowLabels(showYAxis),yAxis.setShowAxis(showYAxis),yAxis.setShowLabels(showYAxis),showYAxis){let themeYAxisColor=TcHmi.Theme.Resources.get(this,"DefaultYAxisColor"),color=this.__yAxisColor&&TcHmi.isSolidColor(this.__yAxisColor)?this.__yAxisColor.color:TcHmi.isSolidColor(themeYAxisColor.value)?TcHmi.StyleProvider.resolveSolidColorAsCssValue(themeYAxisColor.value):null;yAxis.setAxisColor(color),yAxis.setLabelFontColor(color),yAxis.setLabelFontSize(this.__yLabelFontSize??this.getAttributeDefaultValueInternal("YLabelFontSize")),yAxis.setLabelFontFamily(this.__yLabelFontFamily),yAxis.setLabelFontSizeUnit("px"),yAxis.setLabelFontWeight(this.__yLabelFontWeight??this.getAttributeDefaultValueInternal("YLabelFontWeight"))}lineChart.setYAxisWidth(this.__yAxisWidth??this.getAttributeDefaultValueInternal("YAxisWidth")),lineChart.setYMainTickSteps(2),yAxis.setAxisWidth(this.__yAxisWidth??this.getAttributeDefaultValueInternal("YAxisWidth")),yAxis.setDecimalPlaces(this.__yAxisDecimalPlaces??this.getAttributeDefaultValueInternal("YAxisDecimalPlaces")),yAxis.setMainTickSteps(2);let yValues=lineGraphData.map((a=>a.y)).filter((x=>void 0!==x));yAxis.setMainTickStartValue(Math.min(...yValues)),yAxis.setMainTickEndValue(Math.max(...yValues)),yAxis.setShowAxisName(!1),lineChart.addGraph({points:lineGraphData,yAxis});let lineGraph=lineChart.getLineGraphsAtPosition(0);if(lineGraph){let color=this.__historizedSymbols[i].lineColor;if(color&&color.color)lineGraph.setLineColor(color.color);else{let themeLineColor=TcHmi.Theme.Resources.get(this,"DefaultGraphColor");TcHmi.isSolidColor(themeLineColor.value)&&lineGraph.setLineColor(TcHmi.StyleProvider.resolveSolidColorAsCssValue(themeLineColor.value))}lineGraph.setLineWidth(this.__historizedSymbols[i].lineWidth)}}let referenceLines=this.__historizedSymbols[i].referenceLines;if(referenceLines)for(let j=0,jj=referenceLines.length;j<jj;j++){lineChart.addReferenceLine();let referenceLine=lineChart.getReferenceLinesAtPosition(j);if(referenceLine){let referenceLineData=referenceLines[j];referenceLineData&&(referenceLine.setShow(referenceLineData.show),referenceLine.setValue(referenceLineData.value),referenceLine.setValueUnit("Value"),referenceLine.setYAxisId(1),referenceLine.setLineWidth(referenceLineData.lineWidth),referenceLine.setColor(referenceLineData.color?.color??null))}}lineChart.draw()}}}__reset(){for(let i=this.__lineCharts.length-1,ii=0;i>=ii;i--)this.__lineCharts[i].remove(),this.__lineCharts.splice(i,1),this.__elementTemplateRoot.children().last().remove()}setHistorizedSymbols(valueNew){let convertedValue=TcHmi.ValueConverter.toObject(valueNew)??this.getAttributeDefaultValueInternal("HistorizedSymbols"),resolverInfo=this.__objectResolvers.get("historizedSymbols");resolverInfo&&(resolverInfo.watchDestroyer&&resolverInfo.watchDestroyer(),resolverInfo.resolver.destroy());let resolver=new TcHmi.Symbol.ObjectResolver(convertedValue,{parentControl:this,type:this.getAttributeDescription("HistorizedSymbols")?.type});this.__objectResolvers.set("__historizedSymbols",{resolver,watchCallback:this.__onResolverForHistorizedSymbolsWatchCallback,watchDestroyer:resolver.watch(this.__onResolverForHistorizedSymbolsWatchCallback)})}__onResolverForHistorizedSymbolsWatchCallback(data){this.__isAttached||this.__suspendObjectResolver("historizedSymbols"),data.error===TcHmi.Errors.NONE?tchmi_equal(data.value,this.__historizedSymbols)||(this.__historizedSymbols=data.value,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"HistorizedSymbols"}),this.__processHistorizedSymbols()):TcHmi.Log.Controls.error(this,TcHmiTrendSparkline.#tchmiFQN,{Attribute:"HistorizedSymbols"},`Resolving symbols from object failed with error: ${TcHmi.Log.buildMessage(data.details)}`)}getHistorizedSymbols(){return this.__historizedSymbols}__processHistorizedSymbols(){this.__openWebsocket()}setServerDomain(valueNew){let convertedValue=TcHmi.ValueConverter.toString(valueNew)??this.getAttributeDefaultValueInternal("ServerDomain");tchmi_equal(convertedValue,this.__serverDomain)||(this.__serverDomain=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"ServerDomain"}),this.__processServerDomain())}getServerDomain(){return this.__serverDomain}__processServerDomain(){this.__openWebsocket()}setInterval(valueNew){let convertedValue=TcHmi.ValueConverter.toNumber(valueNew)??this.getAttributeDefaultValueInternal("Interval");convertedValue!==this.__interval&&(this.__interval=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"Interval"}),this.__processInterval())}getInterval(){return this.__interval}__processInterval(){this.__openWebsocket()}setStart(valueNew){let convertedValue=TcHmi.ValueConverter.toString(valueNew)??this.getAttributeDefaultValueInternal("Start");null!==convertedValue&&(convertedValue="first"===convertedValue.toLowerCase()?"First":convertedValue.toUpperCase()),convertedValue!==this.__start&&(this.__start=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"Start"}),this.__processStart())}getStart(){return this.__start}__processStart(){this.__openWebsocket()}setEnd(valueNew){let convertedValue=TcHmi.ValueConverter.toString(valueNew)??this.getAttributeDefaultValueInternal("End");null!==convertedValue&&(convertedValue="latest"===convertedValue.toLowerCase()?"Latest":convertedValue.toUpperCase()),convertedValue!==this.__end&&(this.__end=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"End"}),this.__processEnd())}getEnd(){return this.__end}__processEnd(){this.__openWebsocket()}setShowLabel(valueNew){let convertedValue=TcHmi.ValueConverter.toBoolean(valueNew)??this.getAttributeDefaultValueInternal("ShowLabel");convertedValue!==this.__showLabel&&(this.__showLabel=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"ShowLabel"}),this.__processShowLabel())}getShowLabel(){return this.__showLabel}__processShowLabel(){this.__drawLineChart()}setLabelColor(valueNew){let convertedValue=TcHmi.ValueConverter.toObject(valueNew)??this.getAttributeDefaultValueInternal("LabelColor"),resolverInfo=this.__objectResolvers.get("LabelColor");resolverInfo&&(resolverInfo.watchDestroyer&&resolverInfo.watchDestroyer(),resolverInfo.resolver.destroy());let resolver=new TcHmi.Symbol.ObjectResolver(convertedValue,{parentControl:this,type:this.getAttributeDescription("LabelColor")?.type});this.__objectResolvers.set("LabelColor",{resolver,watchCallback:this.__onResolverForLabelColorWatchCallback,watchDestroyer:resolver.watch(this.__onResolverForLabelColorWatchCallback)})}__onResolverForLabelColorWatchCallback(data){this.__isAttached||this.__suspendObjectResolver("LabelColor"),data.error===TcHmi.Errors.NONE?tchmi_equal(data.value,this.__labelColor)||(this.__labelColor=data.value,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"LabelColor"}),this.__processLabelColor()):TcHmi.Log.Controls.error(this,TcHmiTrendSparkline.#tchmiFQN,{Attribute:"LabelColor"},`Resolving symbols from object failed with error: ${TcHmi.Log.buildMessage(data.details)}`)}getLabelColor(){return this.__labelColor}__processLabelColor(){this.__isAttached&&this.__drawLineChart()}setLabelPosition(valueNew){let convertedValue=TcHmi.ValueConverter.toString(valueNew)??this.getAttributeDefaultValueInternal("LabelPosition");tchmi_equal(convertedValue,this.__labelPosition)||(this.__labelPosition=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"LabelPosition"}),this.__processLabelPosition())}getLabelPosition(){return this.__labelPosition}__processLabelPosition(){this.__isAttached&&this.__drawLineChart()}setLabelFontFamily(valueNew){let convertedValue=TcHmi.ValueConverter.toFontFamily(valueNew)??this.getAttributeDefaultValueInternal("LabelFontFamily");convertedValue!==this.__labelFontFamily&&(this.__labelFontFamily=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"LabelFontFamily"}),this.__processLabelFontFamily())}getLabelFontFamily(){return this.__labelFontFamily}__processLabelFontFamily(){this.__isAttached&&this.__drawLineChart()}setLabelFontSize(valueNew){let convertedValue=TcHmi.ValueConverter.toNumber(valueNew)??this.getAttributeDefaultValueInternal("LabelFontSize");convertedValue!==this.__labelFontSize&&(this.__labelFontSize=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"LabelFontSize"}),this.__processLabelFontSize())}getLabelFontSize(){return this.__labelFontSize}__processLabelFontSize(){this.__isAttached&&this.__drawLineChart()}getLabelFontSizeUnit(){return"px"}setLabelFontWeight(valueNew){let convertedValue=TcHmi.ValueConverter.toFontWeight(valueNew)??this.getAttributeDefaultValueInternal("LabelFontWeight");convertedValue!==this.__labelFontWeight&&(this.__labelFontWeight=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"LabelFontWeight"}),this.__processLabelFontWeight())}getLabelFontWeight(){return this.__yLabelFontWeight}__processLabelFontWeight(){this.__isAttached&&this.__drawLineChart()}setShowYAxis(valueNew){let convertedValue=TcHmi.ValueConverter.toBoolean(valueNew)??this.getAttributeDefaultValueInternal("ShowYAxis");convertedValue!==this.__showYAxis&&(this.__showYAxis=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"ShowYAxis"}),this.__processShowYAxis())}getShowYAxis(){return this.__showYAxis}__processShowYAxis(){this.__drawLineChart()}setYAxisColor(valueNew){let convertedValue=TcHmi.ValueConverter.toObject(valueNew)??this.getAttributeDefaultValueInternal("YAxisColor"),resolverInfo=this.__objectResolvers.get("yAxisColor");resolverInfo&&(resolverInfo.watchDestroyer&&resolverInfo.watchDestroyer(),resolverInfo.resolver.destroy());let resolver=new TcHmi.Symbol.ObjectResolver(convertedValue,{parentControl:this,type:this.getAttributeDescription("YAxisColor")?.type});this.__objectResolvers.set("yAxisColor",{resolver,watchCallback:this.__onResolverForYAxisColorWatchCallback,watchDestroyer:resolver.watch(this.__onResolverForYAxisColorWatchCallback)})}__onResolverForYAxisColorWatchCallback(data){this.__isAttached||this.__suspendObjectResolver("yAxisColor"),data.error===TcHmi.Errors.NONE?tchmi_equal(data.value,this.__yAxisColor)||(this.__yAxisColor=data.value,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"YAxisColor"}),this.__processYAxisColor()):TcHmi.Log.Controls.error(this,TcHmiTrendSparkline.#tchmiFQN,{Attribute:"YAxisColor"},`Resolving symbols from object failed with error: ${TcHmi.Log.buildMessage(data.details)}`)}getYAxisColor(){return this.__yAxisColor}__processYAxisColor(){this.__isAttached&&this.__drawLineChart()}setYAxisPosition(valueNew){let convertedValue=TcHmi.ValueConverter.toString(valueNew)??this.getAttributeDefaultValueInternal("YAxisPosition");tchmi_equal(convertedValue,this.__yAxisPosition)||(this.__yAxisPosition=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"YAxisPosition"}),this.__processYAxisPosition())}getYAxisPosition(){return this.__yAxisPosition}__processYAxisPosition(){this.__isAttached&&this.__drawLineChart()}setYAxisDecimalPlaces(valueNew){let convertedValue=TcHmi.ValueConverter.toNumber(valueNew)??this.getAttributeDefaultValueInternal("YAxisDecimalPlaces");convertedValue!==this.__yAxisDecimalPlaces&&(this.__yAxisDecimalPlaces=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"YAxisDecimalPlaces"}),this.__processYAxisDecimalPlaces())}getYAxisDecimalPlaces(){return this.__yAxisDecimalPlaces}__processYAxisDecimalPlaces(){this.__isAttached&&this.__drawLineChart()}setYAxisWidth(valueNew){let convertedValue=TcHmi.ValueConverter.toNumber(valueNew)??this.getAttributeDefaultValueInternal("YAxisWidth");convertedValue!==this.__yAxisWidth&&(this.__yAxisWidth=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"YAxisWidth"}),this.__processYAxisWidth())}getYAxisWidth(){return this.__yAxisWidth}__processYAxisWidth(){this.__isAttached&&this.__drawLineChart()}setYLabelFontFamily(valueNew){let convertedValue=TcHmi.ValueConverter.toFontFamily(valueNew)??this.getAttributeDefaultValueInternal("YLabelFontFamily");convertedValue!==this.__yLabelFontFamily&&(this.__yLabelFontFamily=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"YLabelFontFamily"}),this.__processYLabelFontFamily())}getYLabelFontFamily(){return this.__yLabelFontFamily}__processYLabelFontFamily(){this.__isAttached&&this.__drawLineChart()}setYLabelFontSize(valueNew){let convertedValue=TcHmi.ValueConverter.toNumber(valueNew)??this.getAttributeDefaultValueInternal("YLabelFontSize");convertedValue!==this.__yLabelFontSize&&(this.__yLabelFontSize=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"YLabelFontSize"}),this.__processYLabelFontSize())}getYLabelFontSize(){return this.__yLabelFontSize}__processYLabelFontSize(){this.__isAttached&&this.__drawLineChart()}getYLabelFontSizeUnit(){return"px"}setYLabelFontWeight(valueNew){let convertedValue=TcHmi.ValueConverter.toFontWeight(valueNew)??this.getAttributeDefaultValueInternal("YLabelFontWeight");convertedValue!==this.__yLabelFontWeight&&(this.__yLabelFontWeight=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"YLabelFontWeight"}),this.__processYLabelFontWeight())}getYLabelFontWeight(){return this.__yLabelFontWeight}__processYLabelFontWeight(){this.__isAttached&&this.__drawLineChart()}}})();Beckhoff.TcHmiTrendSparkline=TcHmiTrendSparkline,function(TcHmiTrendSparkline){let Datatype,Position,LabelPosition;!function(Datatype){Datatype[Datatype.Datetime=0]="Datetime",Datatype[Datatype.Timespan=1]="Timespan",Datatype[Datatype.Keyword=2]="Keyword"}(Datatype=TcHmiTrendSparkline.Datatype||(TcHmiTrendSparkline.Datatype={})),function(Position){Position[Position.Left=0]="Left",Position[Position.Right=1]="Right"}(Position=TcHmiTrendSparkline.Position||(TcHmiTrendSparkline.Position={})),function(LabelPosition){LabelPosition[LabelPosition.Left=0]="Left",LabelPosition[LabelPosition.Right=1]="Right",LabelPosition[LabelPosition.Center=2]="Center"}(LabelPosition=TcHmiTrendSparkline.LabelPosition||(TcHmiTrendSparkline.LabelPosition={}))}(TcHmiTrendSparkline=Beckhoff.TcHmiTrendSparkline||(Beckhoff.TcHmiTrendSparkline={}))}(Controls.Beckhoff||(Controls.Beckhoff={}))}(TcHmi.Controls||(TcHmi.Controls={}))}(TcHmi||(TcHmi={})),TcHmi.Controls.registerEx("TcHmiTrendSparkline","TcHmi.Controls.Beckhoff",TcHmi.Controls.Beckhoff.TcHmiTrendSparkline);