var __runInitializers=this&&this.__runInitializers||function(thisArg,initializers,value){for(var useValue=arguments.length>2,i=0;i<initializers.length;i++)value=useValue?initializers[i].call(thisArg,value):initializers[i].call(thisArg);return useValue?value:void 0},__esDecorate=this&&this.__esDecorate||function(ctor,descriptorIn,decorators,contextIn,initializers,extraInitializers){function accept(f){if(void 0!==f&&"function"!=typeof f)throw new TypeError("Function expected");return f}for(var _,kind=contextIn.kind,key="getter"===kind?"get":"setter"===kind?"set":"value",target=!descriptorIn&&ctor?contextIn.static?ctor:ctor.prototype:null,descriptor=descriptorIn||(target?Object.getOwnPropertyDescriptor(target,contextIn.name):{}),done=!1,i=decorators.length-1;i>=0;i--){var context={};for(var p in contextIn)context[p]="access"===p?{}:contextIn[p];for(var p in contextIn.access)context.access[p]=contextIn.access[p];context.addInitializer=function(f){if(done)throw new TypeError("Cannot add initializers after decoration has completed");extraInitializers.push(accept(f||null))};var result=(0,decorators[i])("accessor"===kind?{get:descriptor.get,set:descriptor.set}:descriptor[key],context);if("accessor"===kind){if(void 0===result)continue;if(null===result||"object"!=typeof result)throw new TypeError("Object expected");(_=accept(result.get))&&(descriptor.get=_),(_=accept(result.set))&&(descriptor.set=_),(_=accept(result.init))&&initializers.unshift(_)}else(_=accept(result))&&("field"===kind?initializers.unshift(_):descriptor[key]=_)}target&&Object.defineProperty(target,contextIn.name,descriptor),done=!0};import{metaDataManager}from"./DesignerModeControlMetaDataMngr.js";import{interactionManager}from"./DesignerModeMasterInteractionMngr.js";import{rectSelectManager}from"./DesignerModeMasterRectSelectMngr.js";import{designerModeManager}from"./DesignerModeManager.js";import{highlightManager}from"./DesignerModeMasterControlHighlightMngr.js";import{rootControlManager}from"./DesignerModeMasterRootControlMngr.js";import{syncManager}from"./DesignerModeMasterSyncManager.js";TCHMI_DESIGNER||TcHmi.Log.errorEx(`Internal error: The file "${import.meta.url}" is restricted to use within the designer.`);let DesignerModeMasterControlResizeManager=(()=>{var _a,_b,_c;let ___onAnchorMouseDown_decorators,___onAnchorMouseMove_decorators,___onAnchorMouseUp_decorators,_instanceExtraInitializers=[];return class{static{const _metadata="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;___onAnchorMouseDown_decorators=[(_a=TcHmi).CallbackMethod.bind(_a)],___onAnchorMouseMove_decorators=[(_b=TcHmi).CallbackMethod.bind(_b)],___onAnchorMouseUp_decorators=[(_c=TcHmi).CallbackMethod.bind(_c)],__esDecorate(this,null,___onAnchorMouseDown_decorators,{kind:"method",name:"__onAnchorMouseDown",static:!1,private:!1,access:{has:obj=>"__onAnchorMouseDown"in obj,get:obj=>obj.__onAnchorMouseDown},metadata:_metadata},null,_instanceExtraInitializers),__esDecorate(this,null,___onAnchorMouseMove_decorators,{kind:"method",name:"__onAnchorMouseMove",static:!1,private:!1,access:{has:obj=>"__onAnchorMouseMove"in obj,get:obj=>obj.__onAnchorMouseMove},metadata:_metadata},null,_instanceExtraInitializers),__esDecorate(this,null,___onAnchorMouseUp_decorators,{kind:"method",name:"__onAnchorMouseUp",static:!1,private:!1,access:{has:obj=>"__onAnchorMouseUp"in obj,get:obj=>obj.__onAnchorMouseUp},metadata:_metadata},null,_instanceExtraInitializers),_metadata&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:_metadata})}constructor(){}__anchorMouseMoveNs=(__runInitializers(this,_instanceExtraInitializers),"mousemove.DesignerModeManager.AnchorMouseMove");__anchorMouseUpNs="mouseup.DesignerModeManager.AnchorMouseUp";__anchorMouseDownNs="mousedown.DesignerModeManager.AnchorMouseDown";__lockControlResize=!1;__controlResizing=!1;__activeControl=null;registerControl(ctrlMeta){ctrlMeta.jAnchorContainer.children(".tchmi-creator-anchor-rect").on(this.__anchorMouseDownNs,this.__onAnchorMouseDown)}getControlResizing(){return this.__controlResizing}lockControlResize(){this.__lockControlResize=!0}__onAnchorMouseDown(event){if(void 0===event.pageX||void 0===event.pageY)return;if(1!==event.which)return;let targetControl=$(event.target).parent().attr("data-tchmi-creator-target-control");if(!targetControl)return;if(this.__activeControl=metaDataManager.getControlMetaData(targetControl),null===this.__activeControl)return;const anchor=$(event.target).attr("data-tchmi-creator-anchor-name");interactionManager.setAnchorName(anchor),anchor&&(interactionManager.handleInteractionStart(event,this.__activeControl),this.__lockControlResize=!1,TcHmi.System.SharedResources.jqDocument.on(this.__anchorMouseMoveNs,this.__onAnchorMouseMove),TcHmi.System.SharedResources.jqDocument.on(this.__anchorMouseUpNs,this.__onAnchorMouseUp))}__onAnchorMouseMove(event){if(void 0===event.pageX||void 0===event.pageY)return;if(null===this.__activeControl)return;if(rectSelectManager.getRectSelecting())return;if(this.__lockControlResize)return;const activeAnchor=interactionManager.getAnchorName();if(!activeAnchor)return;if(1!==event.which)return TcHmi.System.SharedResources.jqDocument.off(this.__anchorMouseMoveNs),TcHmi.System.SharedResources.jqDocument.off(this.__anchorMouseUpNs),this.__controlResizing=!1,void rectSelectManager.resetState();let iterateMeta=this.__activeControl;do{if(iterateMeta.locked)return;iterateMeta=iterateMeta.parent}while(iterateMeta);this.__controlResizing=!0,rectSelectManager.lockRectSelect();const startMousePosition=interactionManager.getStartMousePos(),positionInsideControl=interactionManager.getPositionInsideControl(),deltaLeft=event.pageX-startMousePosition.left;let deltaTop=event.pageY-startMousePosition.top,snapControls=!event.altKey;!0===event.shiftKey&&0!==positionInsideControl.width&&("TopLeft"===activeAnchor||"BottomRight"===activeAnchor?(deltaTop=deltaLeft*(positionInsideControl.height/positionInsideControl.width),snapControls=!1):"TopRight"!==activeAnchor&&"BottomLeft"!==activeAnchor||(deltaTop=-deltaLeft*(positionInsideControl.height/positionInsideControl.width),snapControls=!1));const creatorZoomFactor=rootControlManager.getCreatorZoomFactor(),selectedControlsMeta=metaDataManager.getSelectedControlsMetaData(),snappedDelta=interactionManager.handleSnapping(this.__activeControl,{left:deltaLeft/creatorZoomFactor,top:deltaTop/creatorZoomFactor},{left:event.pageX,top:event.pageY},snapControls,"none");for(let id in selectedControlsMeta){const ctrlMeta=selectedControlsMeta[id];this.__processResize(ctrlMeta,snappedDelta,activeAnchor),ctrlMeta.isPartialRoot&&rootControlManager.setCreatorViewPortPosition(TcHmi.Controls.get(ctrlMeta.id))}}__processResize(ctrlMeta,delta,anchor){if(!ctrlMeta.controlAttributeDimension||void 0===ctrlMeta.absoluteParentRotation||void 0===ctrlMeta.relativeControlRotation)return;let iterateMeta=ctrlMeta,breakLoop=!1;do{if(iterateMeta.locked){breakLoop=!0;break}iterateMeta=iterateMeta.parent}while(iterateMeta);if(breakLoop)return;const tco=TcHmi.Controls.get(ctrlMeta.id);if(!tco)return;let transDeltaTop=Math.sin(-ctrlMeta.absoluteParentRotation*Math.PI/180)*delta.left+Math.cos(-ctrlMeta.absoluteParentRotation*Math.PI/180)*delta.top,transDeltaLeft=Math.cos(ctrlMeta.absoluteParentRotation*Math.PI/180)*delta.left+Math.sin(ctrlMeta.absoluteParentRotation*Math.PI/180)*delta.top;const ctrlRect=this.__getResizedRect(ctrlMeta,anchor,transDeltaLeft,transDeltaTop);let newStyle={};null!==ctrlRect.heightValue&&"Value"===ctrlRect.heightMode&&(newStyle.height=ctrlRect.heightValue+ctrlRect.heightUnit),null!==ctrlRect.widthValue&&"Value"===ctrlRect.widthMode&&(newStyle.width=ctrlRect.widthValue+ctrlRect.widthUnit),null!==ctrlRect.leftValue&&(newStyle.left=ctrlRect.leftValue+ctrlRect.leftUnit),null!==ctrlRect.topValue&&(newStyle.top=ctrlRect.topValue+ctrlRect.topUnit),null!==ctrlRect.rightValue&&(newStyle.right=ctrlRect.rightValue+ctrlRect.rightUnit),null!==ctrlRect.bottomValue&&(newStyle.bottom=ctrlRect.bottomValue+ctrlRect.bottomUnit),null===ctrlRect.leftValue&&null===ctrlRect.rightValue&&(newStyle.left="0"),null===ctrlRect.topValue&&null===ctrlRect.bottomValue&&(newStyle.top="0"),TcHmi.StyleProvider.setSimpleElementStyle(tco.getElement(),newStyle),metaDataManager.addChangedControlsMetaData(ctrlMeta);const tcoParent=tco.getParent();tcoParent&&ctrlMeta.parent&&ctrlMeta.parent.isGridControl&&highlightManager.setContainerPositions(new Set([tcoParent]));const ctrlList=[];ctrlList.push(tco);const activeControl=TcHmi.Controls.get(this.__activeControl?.id);if(null!==this.__activeControl&&void 0!==activeControl){const hierarchyRecursion=function(h){if(h.ctrl.getIsContainerControl())for(let j=0,jj=h.children_hierarchy.length;j<jj;j++){const childHierarchy=h.children_hierarchy[j];ctrlList.push(childHierarchy.ctrl),hierarchyRecursion(childHierarchy)}};if(activeControl){const hierarchy=TcHmi.System.resolveControlHierarchy(activeControl,null);hierarchyRecursion(hierarchy),highlightManager.setContainerPositions(new Set(ctrlList))}}metaDataManager.addChangedControlsMetaData(ctrlMeta)}__getResizedRectRotationOffset(startWidth,startHeight,deltaWidth,deltaHeight,radians,sin,cos){if(0===radians)return{left:0,top:0};null==sin&&(sin=Math.sin(radians)),null==cos&&(cos=Math.cos(radians));const startWidthNum=startWidth??0,startHeightNum=startHeight??0;let xOrig=-startWidthNum/2,yOrig=startHeightNum/2,xRot=-(startWidthNum+deltaWidth)/2,yRot=(startHeightNum+deltaHeight)/2;return{left:yRot*sin+xRot*cos-xRot-(yOrig*sin+xOrig*cos-xOrig),top:yRot*cos-xRot*sin-yRot-(yOrig*cos-xOrig*sin-yOrig)}}__getResizedRect(ctrlMeta,anchorType,deltaLeft,deltaTop){if(!ctrlMeta.controlAttributeDimension||!ctrlMeta.controlCssPixelDimension||void 0===ctrlMeta.absoluteParentRotation||void 0===ctrlMeta.relativeControlRotation)return ctrlMeta.controlAttributeDimension;const angle=ctrlMeta.relativeControlRotation;let parentPixelHeight,parentPixelWidth,positionInsideControl;if(ctrlMeta.isPartialRoot){const viewPortContainer=rootControlManager.getViewPortSimulator();parentPixelHeight=viewPortContainer.offsetHeight,parentPixelWidth=viewPortContainer.offsetWidth,positionInsideControl=interactionManager.getPositionInsideControl()}else parentPixelHeight=ctrlMeta.jControlPosition.parent().outerHeight()??1,parentPixelWidth=ctrlMeta.jControlPosition.parent().outerWidth()??1,positionInsideControl={top:0,left:0,width:0,height:0};let resizedRect=tchmi_clone_object(ctrlMeta.controlAttributeDimension);const radians=angle*Math.PI/180,sinAlpha=Math.sin(radians),cosAlpha=Math.cos(radians);let offset,deltaHeight=-sinAlpha*deltaLeft+cosAlpha*deltaTop,deltaWidth=cosAlpha*deltaLeft+sinAlpha*deltaTop;switch(anchorType){case"TopLeft":if(offset=this.__getResizedRectRotationOffset(resizedRect.widthValue,resizedRect.heightValue,deltaWidth,deltaHeight,radians,sinAlpha,cosAlpha),null!==resizedRect.widthValue){if(null!==resizedRect.maxWidthValue)if(resizedRect.widthUnit===resizedRect.maxWidthUnit)resizedRect.widthValue>resizedRect.maxWidthValue&&(resizedRect.widthValue=resizedRect.maxWidthValue);else if("%"!==resizedRect.widthUnit){let translatedMaxWidthValue=resizedRect.maxWidthValue/100*parentPixelWidth;resizedRect.widthValue>translatedMaxWidthValue&&(resizedRect.widthValue=translatedMaxWidthValue)}else{resizedRect.widthValue/100*parentPixelWidth>resizedRect.maxWidthValue&&(resizedRect.widthValue=resizedRect.maxWidthValue/parentPixelWidth*100)}if(null!==resizedRect.minWidthValue)if(resizedRect.widthUnit===resizedRect.minWidthUnit)resizedRect.widthValue<resizedRect.minWidthValue&&(resizedRect.widthValue=resizedRect.minWidthValue);else if("%"!==resizedRect.widthUnit){let translatedMinWidthValue=resizedRect.minWidthValue/100*parentPixelWidth;resizedRect.widthValue<translatedMinWidthValue&&(resizedRect.widthValue=translatedMinWidthValue)}else{resizedRect.widthValue/100*parentPixelWidth<resizedRect.minWidthValue&&(resizedRect.widthValue=resizedRect.minWidthValue/parentPixelWidth*100)}if(null!==resizedRect.maxWidthValue)if(resizedRect.widthUnit===resizedRect.maxWidthUnit)resizedRect.widthValue-deltaWidth>=resizedRect.maxWidthValue&&(deltaWidth=resizedRect.widthValue-resizedRect.maxWidthValue);else if("%"!==resizedRect.widthUnit){let translatedMaxWidthValue=resizedRect.maxWidthValue/100*parentPixelWidth;resizedRect.widthValue-deltaWidth>=translatedMaxWidthValue&&(deltaWidth=resizedRect.widthValue-translatedMaxWidthValue)}else{let translatedWidthValue=resizedRect.widthValue/100*parentPixelWidth;translatedWidthValue-deltaWidth>=resizedRect.maxWidthValue&&(deltaWidth=translatedWidthValue-resizedRect.maxWidthValue)}if(null!==resizedRect.minWidthValue)if(resizedRect.widthUnit===resizedRect.minWidthUnit)resizedRect.widthValue-deltaWidth<=resizedRect.minWidthValue&&(deltaWidth=resizedRect.widthValue-resizedRect.minWidthValue);else if("%"!==resizedRect.widthUnit){let translatedMinWidthValue=resizedRect.minWidthValue/100*parentPixelWidth;resizedRect.widthValue-deltaWidth<=translatedMinWidthValue&&(deltaWidth=resizedRect.widthValue-translatedMinWidthValue)}else{let translatedWidthValue=resizedRect.widthValue/100*parentPixelWidth;translatedWidthValue-deltaWidth<=resizedRect.minWidthValue&&(deltaWidth=translatedWidthValue-resizedRect.minWidthValue)}"%"!==resizedRect.widthUnit?resizedRect.widthValue-deltaWidth<=0&&(deltaWidth=resizedRect.widthValue):resizedRect.widthValue-100*deltaWidth/parentPixelWidth<=0&&(deltaWidth=resizedRect.widthValue),offset=this.__getResizedRectRotationOffset(resizedRect.widthValue,resizedRect.heightValue,deltaWidth,deltaHeight,radians,sinAlpha,cosAlpha)}else if(null===resizedRect.widthValue&&null!==resizedRect.leftValue&&null!==resizedRect.rightValue){let dummyLeft=resizedRect.leftValue;"%"!==resizedRect.leftUnit?dummyLeft+=-(offset.left-deltaWidth):(dummyLeft+=100*-(offset.left-deltaWidth)/parentPixelWidth,dummyLeft=parentPixelWidth*(dummyLeft/100));let dummyRight=resizedRect.rightValue;"%"!==resizedRect.rightUnit?dummyRight+=offset.left:(dummyRight+=100*offset.left/parentPixelWidth,dummyRight=parentPixelWidth*(dummyRight/100)),dummyLeft+dummyRight>=parentPixelWidth&&(deltaWidth=ctrlMeta.controlCssPixelDimension.width??0,offset=this.__getResizedRectRotationOffset(resizedRect.widthValue,resizedRect.heightValue,deltaWidth,deltaHeight,radians,sinAlpha,cosAlpha))}if(null!==resizedRect.heightValue){if(null!==resizedRect.maxHeightValue)if(resizedRect.heightUnit===resizedRect.maxHeightUnit)resizedRect.heightValue>resizedRect.maxHeightValue&&(resizedRect.heightValue=resizedRect.maxHeightValue);else if("%"!==resizedRect.heightUnit){let translatedMaxHeightValue=resizedRect.maxHeightValue/100*parentPixelHeight;resizedRect.heightValue>translatedMaxHeightValue&&(resizedRect.heightValue=translatedMaxHeightValue)}else{resizedRect.heightValue/100*parentPixelHeight>resizedRect.maxHeightValue&&(resizedRect.heightValue=resizedRect.maxHeightValue/parentPixelHeight*100)}if(null!==resizedRect.minHeightValue)if(resizedRect.heightUnit===resizedRect.minHeightUnit)resizedRect.heightValue<resizedRect.minHeightValue&&(resizedRect.heightValue=resizedRect.minHeightValue);else if("%"!==resizedRect.heightUnit){let translatedMinHeightValue=resizedRect.minHeightValue/100*parentPixelHeight;resizedRect.heightValue<translatedMinHeightValue&&(resizedRect.heightValue=translatedMinHeightValue)}else{resizedRect.heightValue/100*parentPixelHeight<resizedRect.minHeightValue&&(resizedRect.heightValue=resizedRect.minHeightValue/parentPixelHeight*100)}if(null!==resizedRect.maxHeightValue)if(resizedRect.heightUnit===resizedRect.maxHeightUnit)resizedRect.heightValue-deltaHeight>=resizedRect.maxHeightValue&&(deltaHeight=resizedRect.heightValue-resizedRect.maxHeightValue);else if("%"!==resizedRect.heightUnit){let translatedMaxHeightValue=resizedRect.maxHeightValue/100*parentPixelHeight;resizedRect.heightValue-deltaHeight>=translatedMaxHeightValue&&(deltaHeight=resizedRect.heightValue-translatedMaxHeightValue)}else{let translatedHeightValue=resizedRect.heightValue/100*parentPixelHeight;translatedHeightValue-deltaHeight>=resizedRect.maxHeightValue&&(deltaHeight=translatedHeightValue-resizedRect.maxHeightValue)}if(null!==resizedRect.minHeightValue)if(resizedRect.heightUnit===resizedRect.minHeightUnit)resizedRect.heightValue-deltaHeight<=resizedRect.minHeightValue&&(deltaHeight=resizedRect.heightValue-resizedRect.minHeightValue);else if("%"!==resizedRect.heightUnit){let translatedMinHeightValue=resizedRect.minHeightValue/100*parentPixelHeight;resizedRect.heightValue-deltaHeight<=translatedMinHeightValue&&(deltaHeight=resizedRect.heightValue-translatedMinHeightValue)}else{let translatedHeightValue=resizedRect.heightValue/100*parentPixelHeight;translatedHeightValue-deltaHeight<=resizedRect.minHeightValue&&(deltaHeight=translatedHeightValue-resizedRect.minHeightValue)}"%"!==resizedRect.heightUnit?resizedRect.heightValue-deltaHeight<=0&&(deltaHeight=resizedRect.heightValue):100*-deltaHeight/parentPixelHeight<=0&&(deltaHeight=resizedRect.heightValue),offset=this.__getResizedRectRotationOffset(resizedRect.widthValue,resizedRect.heightValue,deltaWidth,deltaHeight,radians,sinAlpha,cosAlpha)}else if(null===resizedRect.heightValue&&null!==resizedRect.topValue&&null!==resizedRect.bottomValue){let dummyTop=resizedRect.topValue;"%"!==resizedRect.topUnit?dummyTop+=-(-offset.top-deltaHeight):(dummyTop+=100*-(-offset.top-deltaHeight)/parentPixelHeight,dummyTop=parentPixelHeight*(dummyTop/100));let dummyBottom=resizedRect.bottomValue;"%"!==resizedRect.bottomUnit?dummyBottom+=-offset.top:(dummyBottom+=100*-offset.top/parentPixelHeight,dummyBottom=parentPixelHeight*(dummyBottom/100)),dummyTop+dummyBottom>=parentPixelHeight&&(deltaHeight=ctrlMeta.controlCssPixelDimension.height??0,offset=this.__getResizedRectRotationOffset(resizedRect.widthValue,resizedRect.heightValue,deltaWidth,deltaHeight,radians,sinAlpha,cosAlpha))}null!==resizedRect.widthValue?"%"!==resizedRect.widthUnit?resizedRect.widthValue+=-deltaWidth:resizedRect.widthValue+=100*-deltaWidth/parentPixelWidth:(null===resizedRect.leftValue&&null!==resizedRect.rightValue||null!==resizedRect.leftValue&&null===resizedRect.rightValue)&&("%"!==resizedRect.widthUnit?resizedRect.widthValue=(ctrlMeta.controlCssPixelDimension.width??0)-deltaWidth:resizedRect.widthValue=(ctrlMeta.controlCssPixelDimension.width??0)/parentPixelWidth*100-100*deltaWidth/parentPixelWidth),null!==resizedRect.heightValue?"%"!==resizedRect.heightUnit?resizedRect.heightValue+=-deltaHeight:resizedRect.heightValue+=100*-deltaHeight/parentPixelHeight:(null===resizedRect.topValue&&null!==resizedRect.bottomValue||null!==resizedRect.topValue&&null===resizedRect.bottomValue)&&("%"!==resizedRect.heightUnit?resizedRect.heightValue=(ctrlMeta.controlCssPixelDimension.height??0)-deltaHeight:resizedRect.heightValue=(ctrlMeta.controlCssPixelDimension.height??0)/parentPixelHeight*100-100*deltaHeight/parentPixelHeight),null!==resizedRect.leftValue&&("%"!==resizedRect.leftUnit?resizedRect.leftValue+=-(offset.left-deltaWidth):resizedRect.leftValue+=100*-(offset.left-deltaWidth)/parentPixelWidth),null!==resizedRect.topValue&&("%"!==resizedRect.topUnit?resizedRect.topValue+=-(-offset.top-deltaHeight):resizedRect.topValue+=100*-(-offset.top-deltaHeight)/parentPixelHeight),null!==resizedRect.rightValue&&("%"!==resizedRect.rightUnit?resizedRect.rightValue+=offset.left:resizedRect.rightValue+=100*offset.left/parentPixelWidth),null!==resizedRect.bottomValue&&("%"!==resizedRect.bottomUnit?resizedRect.bottomValue+=-offset.top:resizedRect.bottomValue+=100*-offset.top/parentPixelHeight);break;case"TopCenter":if(offset=this.__getResizedRectRotationOffset(resizedRect.widthValue,resizedRect.heightValue,0,deltaHeight,radians,sinAlpha,cosAlpha),null!==resizedRect.heightValue){if(null!==resizedRect.maxHeightValue)if(resizedRect.heightUnit===resizedRect.maxHeightUnit)resizedRect.heightValue>resizedRect.maxHeightValue&&(resizedRect.heightValue=resizedRect.maxHeightValue);else if("%"!==resizedRect.heightUnit){let translatedMaxHeightValue=resizedRect.maxHeightValue/100*parentPixelHeight;resizedRect.heightValue>translatedMaxHeightValue&&(resizedRect.heightValue=translatedMaxHeightValue)}else{resizedRect.heightValue/100*parentPixelHeight>resizedRect.maxHeightValue&&(resizedRect.heightValue=resizedRect.maxHeightValue/parentPixelHeight*100)}if(null!==resizedRect.minHeightValue)if(resizedRect.heightUnit===resizedRect.minHeightUnit)resizedRect.heightValue<resizedRect.minHeightValue&&(resizedRect.heightValue=resizedRect.minHeightValue);else if("%"!==resizedRect.heightUnit){let translatedMinHeightValue=resizedRect.minHeightValue/100*parentPixelHeight;resizedRect.heightValue<translatedMinHeightValue&&(resizedRect.heightValue=translatedMinHeightValue)}else{resizedRect.heightValue/100*parentPixelHeight<resizedRect.minHeightValue&&(resizedRect.heightValue=resizedRect.minHeightValue/parentPixelHeight*100)}if(null!==resizedRect.maxHeightValue)if(resizedRect.heightUnit===resizedRect.maxHeightUnit)resizedRect.heightValue-deltaHeight>=resizedRect.maxHeightValue&&(deltaHeight=resizedRect.heightValue-resizedRect.maxHeightValue);else if("%"!==resizedRect.heightUnit){let translatedMaxHeightValue=resizedRect.maxHeightValue/100*parentPixelHeight;resizedRect.heightValue-deltaHeight>=translatedMaxHeightValue&&(deltaHeight=resizedRect.heightValue-translatedMaxHeightValue)}else{let translatedHeightValue=resizedRect.heightValue/100*parentPixelHeight;translatedHeightValue-deltaHeight>=resizedRect.maxHeightValue&&(deltaHeight=translatedHeightValue-resizedRect.maxHeightValue)}if(null!==resizedRect.minHeightValue)if(resizedRect.heightUnit===resizedRect.minHeightUnit)resizedRect.heightValue-deltaHeight<=resizedRect.minHeightValue&&(deltaHeight=resizedRect.heightValue-resizedRect.minHeightValue);else if("%"!==resizedRect.heightUnit){let translatedMinHeightValue=resizedRect.minHeightValue/100*parentPixelHeight;resizedRect.heightValue-deltaHeight<=translatedMinHeightValue&&(deltaHeight=resizedRect.heightValue-translatedMinHeightValue)}else{let translatedHeightValue=resizedRect.heightValue/100*parentPixelHeight;translatedHeightValue-deltaHeight<=resizedRect.minHeightValue&&(deltaHeight=translatedHeightValue-resizedRect.minHeightValue)}"%"!==resizedRect.heightUnit?resizedRect.heightValue-deltaHeight<=0&&(deltaHeight=resizedRect.heightValue):100*-deltaHeight/parentPixelHeight<=0&&(deltaHeight=resizedRect.heightValue),offset=this.__getResizedRectRotationOffset(resizedRect.widthValue,resizedRect.heightValue,0,deltaHeight,radians,sinAlpha,cosAlpha)}else if(null===resizedRect.heightValue&&null!==resizedRect.topValue&&null!==resizedRect.bottomValue){let dummyTop=resizedRect.topValue;"%"!==resizedRect.topUnit?dummyTop+=-offset.top+cosAlpha*deltaHeight:(dummyTop+=100*(-offset.top+cosAlpha*deltaHeight)/parentPixelHeight,dummyTop=parentPixelHeight*(dummyTop/100));let dummyBottom=resizedRect.bottomValue;"%"!==resizedRect.bottomUnit?dummyBottom+=-offset.top:(dummyBottom+=100*-offset.top/parentPixelHeight,dummyBottom=parentPixelHeight*(dummyBottom/100)),dummyTop+dummyBottom>=parentPixelHeight&&(deltaHeight=ctrlMeta.controlCssPixelDimension.height??0,offset=this.__getResizedRectRotationOffset(resizedRect.widthValue,resizedRect.heightValue,0,deltaHeight,radians,sinAlpha,cosAlpha))}null!==resizedRect.heightValue?"%"!==resizedRect.heightUnit?resizedRect.heightValue+=-deltaHeight:resizedRect.heightValue+=100*-deltaHeight/parentPixelHeight:(null===resizedRect.topValue&&null!==resizedRect.bottomValue||null!==resizedRect.topValue&&null===resizedRect.bottomValue)&&("%"!==resizedRect.heightUnit?resizedRect.heightValue=(ctrlMeta.controlCssPixelDimension.height??0)-deltaHeight:resizedRect.heightValue=(ctrlMeta.controlCssPixelDimension.height??0)/parentPixelHeight*100-100*deltaHeight/parentPixelHeight),null!==resizedRect.leftValue&&("%"!==resizedRect.leftUnit?resizedRect.leftValue+=-(-offset.left+sinAlpha*deltaHeight):resizedRect.leftValue+=100*-(-offset.left+sinAlpha*deltaHeight)/parentPixelWidth),null!==resizedRect.topValue&&("%"!==resizedRect.topUnit?resizedRect.topValue+=-offset.top+cosAlpha*deltaHeight:resizedRect.topValue+=100*(-offset.top+cosAlpha*deltaHeight)/parentPixelHeight),null!==resizedRect.rightValue&&("%"!==resizedRect.rightUnit?resizedRect.rightValue+=offset.left:resizedRect.rightValue+=100*offset.left/parentPixelWidth),null!==resizedRect.bottomValue&&("%"!==resizedRect.bottomUnit?resizedRect.bottomValue+=-offset.top:resizedRect.bottomValue+=100*-offset.top/parentPixelHeight);break;case"TopRight":if(offset=this.__getResizedRectRotationOffset(resizedRect.widthValue,resizedRect.heightValue,deltaWidth,deltaHeight,radians,sinAlpha,cosAlpha),null!==resizedRect.widthValue){if(null!==resizedRect.maxWidthValue)if(resizedRect.widthUnit===resizedRect.maxWidthUnit)resizedRect.widthValue>resizedRect.maxWidthValue&&(resizedRect.widthValue=resizedRect.maxWidthValue);else if("%"!==resizedRect.widthUnit){let translatedMaxWidthValue=resizedRect.maxWidthValue/100*parentPixelWidth;resizedRect.widthValue>translatedMaxWidthValue&&(resizedRect.widthValue=translatedMaxWidthValue)}else{resizedRect.widthValue/100*parentPixelWidth>resizedRect.maxWidthValue&&(resizedRect.widthValue=resizedRect.maxWidthValue/parentPixelWidth*100)}if(null!==resizedRect.minWidthValue)if(resizedRect.widthUnit===resizedRect.minWidthUnit)resizedRect.widthValue<resizedRect.minWidthValue&&(resizedRect.widthValue=resizedRect.minWidthValue);else if("%"!==resizedRect.widthUnit){let translatedMinWidthValue=resizedRect.minWidthValue/100*parentPixelWidth;resizedRect.widthValue<translatedMinWidthValue&&(resizedRect.widthValue=translatedMinWidthValue)}else{resizedRect.widthValue/100*parentPixelWidth<resizedRect.minWidthValue&&(resizedRect.widthValue=resizedRect.minWidthValue/parentPixelWidth*100)}if(null!==resizedRect.maxWidthValue)if(resizedRect.widthUnit===resizedRect.maxWidthUnit)resizedRect.widthValue+deltaWidth>=resizedRect.maxWidthValue&&(deltaWidth=resizedRect.maxWidthValue-resizedRect.widthValue);else if("%"!==resizedRect.widthUnit){let translatedMaxWidthValue=resizedRect.maxWidthValue/100*parentPixelWidth;resizedRect.widthValue+deltaWidth>=translatedMaxWidthValue&&(deltaWidth=translatedMaxWidthValue-resizedRect.widthValue)}else{let translatedWidthValue=resizedRect.widthValue/100*parentPixelWidth;translatedWidthValue+deltaWidth>=resizedRect.maxWidthValue&&(deltaWidth=resizedRect.maxWidthValue-translatedWidthValue)}if(null!==resizedRect.minWidthValue)if(resizedRect.widthUnit===resizedRect.minWidthUnit)resizedRect.widthValue+deltaWidth<=resizedRect.minWidthValue&&(deltaWidth=resizedRect.minWidthValue-resizedRect.widthValue);else if("%"!==resizedRect.widthUnit){let translatedMinWidthValue=resizedRect.minWidthValue/100*parentPixelWidth;resizedRect.widthValue+deltaWidth<=translatedMinWidthValue&&(deltaWidth=translatedMinWidthValue-resizedRect.widthValue)}else{let translatedWidthValue=resizedRect.widthValue/100*parentPixelWidth;translatedWidthValue+deltaWidth<=resizedRect.minWidthValue&&(deltaWidth=resizedRect.minWidthValue-translatedWidthValue)}"%"!==resizedRect.widthUnit?resizedRect.widthValue+deltaWidth<=0&&(deltaWidth=-resizedRect.widthValue):resizedRect.widthValue+100*deltaWidth/parentPixelWidth<=0&&(deltaWidth=-resizedRect.widthValue),offset=this.__getResizedRectRotationOffset(resizedRect.widthValue,resizedRect.heightValue,deltaWidth,deltaHeight,radians,sinAlpha,cosAlpha)}else if(null===resizedRect.widthValue&&null!==resizedRect.leftValue&&null!==resizedRect.rightValue){let dummyLeft=resizedRect.leftValue;"%"!==resizedRect.leftUnit?dummyLeft+=-offset.left:(dummyLeft+=100*-offset.left/parentPixelWidth,dummyLeft=parentPixelWidth*(dummyLeft/100));let dummyRight=resizedRect.rightValue;"%"!==resizedRect.rightUnit?dummyRight+=-(-offset.left+deltaWidth):(dummyRight+=100*-(-offset.left+deltaWidth)/parentPixelWidth,dummyRight=parentPixelWidth*(dummyRight/100)),dummyLeft+dummyRight>=parentPixelWidth&&(deltaWidth=-(ctrlMeta.controlCssPixelDimension.width??0),offset=this.__getResizedRectRotationOffset(resizedRect.widthValue,resizedRect.heightValue,deltaWidth,deltaHeight,radians,sinAlpha,cosAlpha))}if(null!==resizedRect.heightValue){if(null!==resizedRect.maxHeightValue)if(resizedRect.heightUnit===resizedRect.maxHeightUnit)resizedRect.heightValue>resizedRect.maxHeightValue&&(resizedRect.heightValue=resizedRect.maxHeightValue);else if("%"!==resizedRect.heightUnit){let translatedMaxHeightValue=resizedRect.maxHeightValue/100*parentPixelHeight;resizedRect.heightValue>translatedMaxHeightValue&&(resizedRect.heightValue=translatedMaxHeightValue)}else{resizedRect.heightValue/100*parentPixelHeight>resizedRect.maxHeightValue&&(resizedRect.heightValue=resizedRect.maxHeightValue/parentPixelHeight*100)}if(null!==resizedRect.minHeightValue)if(resizedRect.heightUnit===resizedRect.minHeightUnit)resizedRect.heightValue<resizedRect.minHeightValue&&(resizedRect.heightValue=resizedRect.minHeightValue);else if("%"!==resizedRect.heightUnit){let translatedMinHeightValue=resizedRect.minHeightValue/100*parentPixelHeight;resizedRect.heightValue<translatedMinHeightValue&&(resizedRect.heightValue=translatedMinHeightValue)}else{resizedRect.heightValue/100*parentPixelHeight<resizedRect.minHeightValue&&(resizedRect.heightValue=resizedRect.minHeightValue/parentPixelHeight*100)}if(null!==resizedRect.maxHeightValue)if(resizedRect.heightUnit===resizedRect.maxHeightUnit)resizedRect.heightValue-deltaHeight>=resizedRect.maxHeightValue&&(deltaHeight=resizedRect.heightValue-resizedRect.maxHeightValue);else if("%"!==resizedRect.heightUnit){let translatedMaxHeightValue=resizedRect.maxHeightValue/100*parentPixelHeight;resizedRect.heightValue-deltaHeight>=translatedMaxHeightValue&&(deltaHeight=resizedRect.heightValue-translatedMaxHeightValue)}else{let translatedHeightValue=resizedRect.heightValue/100*parentPixelHeight;translatedHeightValue-deltaHeight>=resizedRect.maxHeightValue&&(deltaHeight=translatedHeightValue-resizedRect.maxHeightValue)}if(null!==resizedRect.minHeightValue)if(resizedRect.heightUnit===resizedRect.minHeightUnit)resizedRect.heightValue-deltaHeight<=resizedRect.minHeightValue&&(deltaHeight=resizedRect.heightValue-resizedRect.minHeightValue);else if("%"!==resizedRect.heightUnit){let translatedMinHeightValue=resizedRect.minHeightValue/100*parentPixelHeight;resizedRect.heightValue-deltaHeight<=translatedMinHeightValue&&(deltaHeight=resizedRect.heightValue-translatedMinHeightValue)}else{let translatedHeightValue=resizedRect.heightValue/100*parentPixelHeight;translatedHeightValue-deltaHeight<=resizedRect.minHeightValue&&(deltaHeight=translatedHeightValue-resizedRect.minHeightValue)}"%"!==resizedRect.heightUnit?resizedRect.heightValue-deltaHeight<=0&&(deltaHeight=resizedRect.heightValue):100*-deltaHeight/parentPixelHeight<=0&&(deltaHeight=resizedRect.heightValue),offset=this.__getResizedRectRotationOffset(resizedRect.widthValue,resizedRect.heightValue,deltaWidth,deltaHeight,radians,sinAlpha,cosAlpha)}else if(null===resizedRect.heightValue&&null!==resizedRect.topValue&&null!==resizedRect.bottomValue){let dummyTop=resizedRect.topValue;"%"!==resizedRect.topUnit?dummyTop+=-(-offset.top-deltaHeight):(dummyTop+=100*-(-offset.top-deltaHeight)/parentPixelHeight,dummyTop=parentPixelHeight*(dummyTop/100));let dummyBottom=resizedRect.bottomValue;"%"!==resizedRect.bottomUnit?dummyBottom+=-offset.top:(dummyBottom+=100*-offset.top/parentPixelHeight,dummyBottom=parentPixelHeight*(dummyBottom/100)),dummyTop+dummyBottom>=parentPixelHeight&&(deltaHeight=ctrlMeta.controlCssPixelDimension.height??0,offset=this.__getResizedRectRotationOffset(resizedRect.widthValue,resizedRect.heightValue,deltaWidth,deltaHeight,radians,sinAlpha,cosAlpha))}null!==resizedRect.widthValue?"%"!==resizedRect.widthUnit?resizedRect.widthValue+=deltaWidth:resizedRect.widthValue+=100*deltaWidth/parentPixelWidth:(null===resizedRect.leftValue&&null!==resizedRect.rightValue||null!==resizedRect.leftValue&&null===resizedRect.rightValue)&&("%"!==resizedRect.widthUnit?resizedRect.widthValue=(ctrlMeta.controlCssPixelDimension.width??0)+deltaWidth:resizedRect.widthValue=(ctrlMeta.controlCssPixelDimension.width??0)/parentPixelWidth*100+100*deltaWidth/parentPixelWidth),null!==resizedRect.heightValue?"%"!==resizedRect.heightUnit?resizedRect.heightValue+=-deltaHeight:resizedRect.heightValue+=100*-deltaHeight/parentPixelHeight:(null===resizedRect.topValue&&null!==resizedRect.bottomValue||null!==resizedRect.topValue&&null===resizedRect.bottomValue)&&("%"!==resizedRect.heightUnit?resizedRect.heightValue=(ctrlMeta.controlCssPixelDimension.height??0)+deltaHeight:resizedRect.heightValue=(ctrlMeta.controlCssPixelDimension.height??0)/parentPixelHeight*100+100*deltaHeight/parentPixelHeight),null!==resizedRect.leftValue&&("%"!==resizedRect.leftUnit?resizedRect.leftValue+=-offset.left:resizedRect.leftValue+=100*-offset.left/parentPixelWidth),null!==resizedRect.topValue&&("%"!==resizedRect.topUnit?resizedRect.topValue+=-(-offset.top-deltaHeight):resizedRect.topValue+=100*-(-offset.top-deltaHeight)/parentPixelHeight),null!==resizedRect.rightValue&&("%"!==resizedRect.rightUnit?resizedRect.rightValue+=-(-offset.left+deltaWidth):resizedRect.rightValue+=100*-(-offset.left+deltaWidth)/parentPixelWidth),null!==resizedRect.bottomValue&&("%"!==resizedRect.bottomUnit?resizedRect.bottomValue+=-offset.top:resizedRect.bottomValue+=100*-offset.top/parentPixelHeight);break;case"CenterLeft":if(offset=this.__getResizedRectRotationOffset(resizedRect.widthValue,resizedRect.heightValue,deltaWidth,0,radians,sinAlpha,cosAlpha),null!==resizedRect.widthValue){if(null!==resizedRect.maxWidthValue)if(resizedRect.widthUnit===resizedRect.maxWidthUnit)resizedRect.widthValue>resizedRect.maxWidthValue&&(resizedRect.widthValue=resizedRect.maxWidthValue);else if("%"!==resizedRect.widthUnit){let translatedMaxWidthValue=resizedRect.maxWidthValue/100*parentPixelWidth;resizedRect.widthValue>translatedMaxWidthValue&&(resizedRect.widthValue=translatedMaxWidthValue)}else{resizedRect.widthValue/100*parentPixelWidth>resizedRect.maxWidthValue&&(resizedRect.widthValue=resizedRect.maxWidthValue/parentPixelWidth*100)}if(null!==resizedRect.minWidthValue)if(resizedRect.widthUnit===resizedRect.minWidthUnit)resizedRect.widthValue<resizedRect.minWidthValue&&(resizedRect.widthValue=resizedRect.minWidthValue);else if("%"!==resizedRect.widthUnit){let translatedMinWidthValue=resizedRect.minWidthValue/100*parentPixelWidth;resizedRect.widthValue<translatedMinWidthValue&&(resizedRect.widthValue=translatedMinWidthValue)}else{resizedRect.widthValue/100*parentPixelWidth<resizedRect.minWidthValue&&(resizedRect.widthValue=resizedRect.minWidthValue/parentPixelWidth*100)}if(null!==resizedRect.maxWidthValue)if(resizedRect.widthUnit===resizedRect.maxWidthUnit)resizedRect.widthValue-deltaWidth>=resizedRect.maxWidthValue&&(deltaWidth=resizedRect.widthValue-resizedRect.maxWidthValue);else if("%"!==resizedRect.widthUnit){let translatedMaxWidthValue=resizedRect.maxWidthValue/100*parentPixelWidth;resizedRect.widthValue-deltaWidth>=translatedMaxWidthValue&&(deltaWidth=resizedRect.widthValue-translatedMaxWidthValue)}else{let translatedWidthValue=resizedRect.widthValue/100*parentPixelWidth;translatedWidthValue-deltaWidth>=resizedRect.maxWidthValue&&(deltaWidth=translatedWidthValue-resizedRect.maxWidthValue)}if(null!==resizedRect.minWidthValue)if(resizedRect.widthUnit===resizedRect.minWidthUnit)resizedRect.widthValue-deltaWidth<=resizedRect.minWidthValue&&(deltaWidth=resizedRect.widthValue-resizedRect.minWidthValue);else if("%"!==resizedRect.widthUnit){let translatedMinWidthValue=resizedRect.minWidthValue/100*parentPixelWidth;resizedRect.widthValue-deltaWidth<=translatedMinWidthValue&&(deltaWidth=resizedRect.widthValue-translatedMinWidthValue)}else{let translatedWidthValue=resizedRect.widthValue/100*parentPixelWidth;translatedWidthValue-deltaWidth<=resizedRect.minWidthValue&&(deltaWidth=translatedWidthValue-resizedRect.minWidthValue)}"%"!==resizedRect.widthUnit?resizedRect.widthValue-deltaWidth<=0&&(deltaWidth=resizedRect.widthValue):resizedRect.widthValue-100*deltaWidth/parentPixelWidth<=0&&(deltaWidth=resizedRect.widthValue),offset=this.__getResizedRectRotationOffset(resizedRect.widthValue,resizedRect.heightValue,deltaWidth,0,radians,sinAlpha,cosAlpha)}else if(null===resizedRect.widthValue&&null!==resizedRect.leftValue&&null!==resizedRect.rightValue){let dummyLeft=resizedRect.leftValue;"%"!==resizedRect.leftUnit?dummyLeft+=offset.left+cosAlpha*deltaWidth:(dummyLeft+=100*(offset.left+cosAlpha*deltaWidth)/parentPixelWidth,dummyLeft=parentPixelWidth*(dummyLeft/100));let dummyRight=resizedRect.rightValue;"%"!==resizedRect.rightUnit?dummyRight+=offset.left:(dummyRight+=100*offset.left/parentPixelWidth,dummyRight=parentPixelWidth*(dummyRight/100)),dummyLeft+dummyRight>=parentPixelWidth&&(deltaWidth=ctrlMeta.controlCssPixelDimension.width??0,offset=this.__getResizedRectRotationOffset(resizedRect.widthValue,resizedRect.heightValue,deltaWidth,0,radians,sinAlpha,cosAlpha))}null!==resizedRect.widthValue?"%"!==resizedRect.widthUnit?resizedRect.widthValue+=-deltaWidth:resizedRect.widthValue+=100*-deltaWidth/parentPixelWidth:(null===resizedRect.leftValue&&null!==resizedRect.rightValue||null!==resizedRect.leftValue&&null===resizedRect.rightValue)&&("%"!==resizedRect.widthUnit?resizedRect.widthValue=(ctrlMeta.controlCssPixelDimension.width??0)-deltaWidth:resizedRect.widthValue=(ctrlMeta.controlCssPixelDimension.width??0)/parentPixelWidth*100-100*deltaWidth/parentPixelWidth),null!==resizedRect.leftValue&&("%"!==resizedRect.leftUnit?resizedRect.leftValue+=offset.left+cosAlpha*deltaWidth:resizedRect.leftValue+=100*(offset.left+cosAlpha*deltaWidth)/parentPixelWidth),null!==resizedRect.topValue&&("%"!==resizedRect.topUnit?resizedRect.topValue+=offset.top:resizedRect.topValue+=100*offset.top/parentPixelHeight),null!==resizedRect.rightValue&&("%"!==resizedRect.rightUnit?resizedRect.rightValue+=offset.left:resizedRect.rightValue+=100*offset.left/parentPixelWidth),null!==resizedRect.bottomValue&&("%"!==resizedRect.bottomUnit?resizedRect.bottomValue+=-offset.top:resizedRect.bottomValue+=100*-offset.top/parentPixelHeight);break;case"CenterRight":if(ctrlMeta.isPartialRoot&&(null!==resizedRect.widthValue&&"%"===resizedRect.widthUnit&&(resizedRect.widthUnit="px",resizedRect.widthValue=resizedRect.widthValue/100*positionInsideControl.width),null!==resizedRect.rightValue&&"%"===resizedRect.rightUnit&&(resizedRect.rightUnit="px",resizedRect.rightValue=resizedRect.rightValue/100*parentPixelWidth)),offset=this.__getResizedRectRotationOffset(resizedRect.widthValue,resizedRect.heightValue,deltaWidth,0,radians,sinAlpha,cosAlpha),null!==resizedRect.widthValue){if(null!==resizedRect.maxWidthValue)if(resizedRect.widthUnit===resizedRect.maxWidthUnit)resizedRect.widthValue>resizedRect.maxWidthValue&&(resizedRect.widthValue=resizedRect.maxWidthValue);else if("%"!==resizedRect.widthUnit){let translatedMaxWidthValue=resizedRect.maxWidthValue/100*parentPixelWidth;resizedRect.widthValue>translatedMaxWidthValue&&(resizedRect.widthValue=translatedMaxWidthValue)}else{resizedRect.widthValue/100*parentPixelWidth>resizedRect.maxWidthValue&&(resizedRect.widthValue=resizedRect.maxWidthValue/parentPixelWidth*100)}if(null!==resizedRect.minWidthValue)if(resizedRect.widthUnit===resizedRect.minWidthUnit)resizedRect.widthValue<resizedRect.minWidthValue&&(resizedRect.widthValue=resizedRect.minWidthValue);else if("%"!==resizedRect.widthUnit){let translatedMinWidthValue=resizedRect.minWidthValue/100*parentPixelWidth;resizedRect.widthValue<translatedMinWidthValue&&(resizedRect.widthValue=translatedMinWidthValue)}else{resizedRect.widthValue/100*parentPixelWidth<resizedRect.minWidthValue&&(resizedRect.widthValue=resizedRect.minWidthValue/parentPixelWidth*100)}if(null!==resizedRect.maxWidthValue)if(resizedRect.widthUnit===resizedRect.maxWidthUnit)resizedRect.widthValue+deltaWidth>=resizedRect.maxWidthValue&&(deltaWidth=resizedRect.maxWidthValue-resizedRect.widthValue);else if("%"!==resizedRect.widthUnit){let translatedMaxWidthValue=resizedRect.maxWidthValue/100*parentPixelWidth;resizedRect.widthValue+deltaWidth>=translatedMaxWidthValue&&(deltaWidth=translatedMaxWidthValue-resizedRect.widthValue)}else{let translatedWidthValue=resizedRect.widthValue/100*parentPixelWidth;translatedWidthValue+deltaWidth>=resizedRect.maxWidthValue&&(deltaWidth=resizedRect.maxWidthValue-translatedWidthValue)}if(null!==resizedRect.minWidthValue)if(resizedRect.widthUnit===resizedRect.minWidthUnit)resizedRect.widthValue+deltaWidth<=resizedRect.minWidthValue&&(deltaWidth=resizedRect.minWidthValue-resizedRect.widthValue);else if("%"!==resizedRect.widthUnit){let translatedMinWidthValue=resizedRect.minWidthValue/100*parentPixelWidth;resizedRect.widthValue+deltaWidth<=translatedMinWidthValue&&(deltaWidth=translatedMinWidthValue-resizedRect.widthValue)}else{let translatedWidthValue=resizedRect.widthValue/100*parentPixelWidth;translatedWidthValue+deltaWidth<=resizedRect.minWidthValue&&(deltaWidth=resizedRect.minWidthValue-translatedWidthValue)}"%"!==resizedRect.widthUnit?resizedRect.widthValue+deltaWidth<=0&&(deltaWidth=-resizedRect.widthValue):resizedRect.widthValue+100*deltaWidth/parentPixelWidth<=0&&(deltaWidth=-resizedRect.widthValue),offset=this.__getResizedRectRotationOffset(resizedRect.widthValue,resizedRect.heightValue,deltaWidth,0,radians,sinAlpha,cosAlpha)}else if(null===resizedRect.widthValue&&null!==resizedRect.leftValue&&null!==resizedRect.rightValue){let dummyLeft=resizedRect.leftValue;"%"!==resizedRect.leftUnit?dummyLeft+=-offset.left:(dummyLeft+=100*-offset.left/parentPixelWidth,dummyLeft=parentPixelWidth*(dummyLeft/100));let dummyRight=resizedRect.rightValue;"%"!==resizedRect.rightUnit?dummyRight+=-(-offset.left+deltaWidth):(dummyRight+=100*-(-offset.left+deltaWidth)/parentPixelWidth,dummyRight=parentPixelWidth*(dummyRight/100)),dummyLeft+dummyRight>=parentPixelWidth&&(deltaWidth=-(ctrlMeta.controlCssPixelDimension.width??0),offset=this.__getResizedRectRotationOffset(resizedRect.widthValue,resizedRect.heightValue,deltaWidth,0,radians,sinAlpha,cosAlpha))}null!==resizedRect.widthValue?"%"!==resizedRect.widthUnit?resizedRect.widthValue+=deltaWidth:resizedRect.widthValue+=100*deltaWidth/parentPixelWidth:(null===resizedRect.leftValue&&null!==resizedRect.rightValue||null!==resizedRect.leftValue&&null===resizedRect.rightValue)&&("%"!==resizedRect.widthUnit?resizedRect.widthValue=(ctrlMeta.controlCssPixelDimension.width??0)+deltaWidth:resizedRect.widthValue=(ctrlMeta.controlCssPixelDimension.width??0)/parentPixelWidth*100+100*deltaWidth/parentPixelWidth),null!==resizedRect.leftValue&&("%"!==resizedRect.leftUnit?resizedRect.leftValue+=-offset.left:resizedRect.leftValue+=100*-offset.left/parentPixelWidth),null!==resizedRect.topValue&&("%"!==resizedRect.topUnit?resizedRect.topValue+=offset.top:resizedRect.topValue+=100*offset.top/parentPixelHeight),null!==resizedRect.rightValue&&("%"!==resizedRect.rightUnit?resizedRect.rightValue+=-(-offset.left+deltaWidth):resizedRect.rightValue+=100*-(-offset.left+deltaWidth)/parentPixelWidth),null!==resizedRect.bottomValue&&("%"!==resizedRect.bottomUnit?resizedRect.bottomValue+=-offset.top:resizedRect.bottomValue+=100*-offset.top/parentPixelHeight);break;case"BottomLeft":if(offset=this.__getResizedRectRotationOffset(resizedRect.widthValue,resizedRect.heightValue,deltaWidth,deltaHeight,radians,sinAlpha,cosAlpha),null!==resizedRect.heightValue){if(null!==resizedRect.maxHeightValue)if(resizedRect.heightUnit===resizedRect.maxHeightUnit)resizedRect.heightValue>resizedRect.maxHeightValue&&(resizedRect.heightValue=resizedRect.maxHeightValue);else if("%"!==resizedRect.heightUnit){let translatedMaxHeightValue=resizedRect.maxHeightValue/100*parentPixelHeight;resizedRect.heightValue>translatedMaxHeightValue&&(resizedRect.heightValue=translatedMaxHeightValue)}else{resizedRect.heightValue/100*parentPixelHeight>resizedRect.maxHeightValue&&(resizedRect.heightValue=resizedRect.maxHeightValue/parentPixelHeight*100)}if(null!==resizedRect.minHeightValue)if(resizedRect.heightUnit===resizedRect.minHeightUnit)resizedRect.heightValue<resizedRect.minHeightValue&&(resizedRect.heightValue=resizedRect.minHeightValue);else if("%"!==resizedRect.heightUnit){let translatedMinHeightValue=resizedRect.minHeightValue/100*parentPixelHeight;resizedRect.heightValue<translatedMinHeightValue&&(resizedRect.heightValue=translatedMinHeightValue)}else{resizedRect.heightValue/100*parentPixelHeight<resizedRect.minHeightValue&&(resizedRect.heightValue=resizedRect.minHeightValue/parentPixelHeight*100)}if(null!==resizedRect.maxHeightValue)if(resizedRect.heightUnit===resizedRect.maxHeightUnit)resizedRect.heightValue+deltaHeight>=resizedRect.maxHeightValue&&(deltaHeight=resizedRect.maxHeightValue-resizedRect.heightValue);else if("%"!==resizedRect.heightUnit){let translatedMaxHeightValue=resizedRect.maxHeightValue/100*parentPixelHeight;resizedRect.heightValue+deltaHeight>=translatedMaxHeightValue&&(deltaHeight=translatedMaxHeightValue-resizedRect.heightValue)}else{let translatedHeightValue=resizedRect.heightValue/100*parentPixelHeight;translatedHeightValue+deltaHeight>=resizedRect.maxHeightValue&&(deltaHeight=resizedRect.maxHeightValue-translatedHeightValue)}if(null!==resizedRect.minHeightValue)if(resizedRect.heightUnit===resizedRect.minHeightUnit)resizedRect.heightValue+deltaHeight<=resizedRect.minHeightValue&&(deltaHeight=resizedRect.minHeightValue-resizedRect.heightValue);else if("%"!==resizedRect.heightUnit){let translatedMinHeightValue=resizedRect.minHeightValue/100*parentPixelHeight;resizedRect.heightValue+deltaHeight<=translatedMinHeightValue&&(deltaHeight=translatedMinHeightValue-resizedRect.heightValue)}else{let translatedHeightValue=resizedRect.heightValue/100*parentPixelHeight;translatedHeightValue+deltaHeight<=resizedRect.minHeightValue&&(deltaHeight=resizedRect.minHeightValue-translatedHeightValue)}"%"!==resizedRect.heightUnit?resizedRect.heightValue+deltaHeight<=0&&(deltaHeight=-resizedRect.heightValue):resizedRect.heightValue+100*deltaHeight/parentPixelHeight<=0&&(deltaHeight=-resizedRect.heightValue),offset=this.__getResizedRectRotationOffset(resizedRect.widthValue,resizedRect.heightValue,deltaWidth,deltaHeight,radians,sinAlpha,cosAlpha)}else if(null===resizedRect.heightValue&&null!==resizedRect.topValue&&null!==resizedRect.bottomValue){let dummyTop=resizedRect.topValue;"%"!==resizedRect.topUnit?dummyTop+=offset.top:(dummyTop+=100*offset.top/parentPixelHeight,dummyTop=parentPixelHeight*(dummyTop/100));let dummyBottom=resizedRect.bottomValue;"%"!==resizedRect.bottomUnit?dummyBottom+=-(offset.top+deltaHeight):(dummyBottom+=100*-(offset.top+deltaHeight)/parentPixelHeight,dummyBottom=parentPixelHeight*(dummyBottom/100)),dummyTop+dummyBottom>=parentPixelHeight&&(deltaHeight=-(ctrlMeta.controlCssPixelDimension.height??0),offset=this.__getResizedRectRotationOffset(resizedRect.widthValue,resizedRect.heightValue,deltaWidth,deltaHeight,radians,sinAlpha,cosAlpha))}if(null!==resizedRect.widthValue){if(null!==resizedRect.maxWidthValue)if(resizedRect.widthUnit===resizedRect.maxWidthUnit)resizedRect.widthValue>resizedRect.maxWidthValue&&(resizedRect.widthValue=resizedRect.maxWidthValue);else if("%"!==resizedRect.widthUnit){let translatedMaxWidthValue=resizedRect.maxWidthValue/100*parentPixelWidth;resizedRect.widthValue>translatedMaxWidthValue&&(resizedRect.widthValue=translatedMaxWidthValue)}else{resizedRect.widthValue/100*parentPixelWidth>resizedRect.maxWidthValue&&(resizedRect.widthValue=resizedRect.maxWidthValue/parentPixelWidth*100)}if(null!==resizedRect.minWidthValue)if(resizedRect.widthUnit===resizedRect.minWidthUnit)resizedRect.widthValue<resizedRect.minWidthValue&&(resizedRect.widthValue=resizedRect.minWidthValue);else if("%"!==resizedRect.widthUnit){let translatedMinWidthValue=resizedRect.minWidthValue/100*parentPixelWidth;resizedRect.widthValue<translatedMinWidthValue&&(resizedRect.widthValue=translatedMinWidthValue)}else{resizedRect.widthValue/100*parentPixelWidth<resizedRect.minWidthValue&&(resizedRect.widthValue=resizedRect.minWidthValue/parentPixelWidth*100)}if(null!==resizedRect.maxWidthValue)if(resizedRect.widthUnit===resizedRect.maxWidthUnit)resizedRect.widthValue-deltaWidth>=resizedRect.maxWidthValue&&(deltaWidth=resizedRect.widthValue-resizedRect.maxWidthValue);else if("%"!==resizedRect.widthUnit){let translatedMaxWidthValue=resizedRect.maxWidthValue/100*parentPixelWidth;resizedRect.widthValue-deltaWidth>=translatedMaxWidthValue&&(deltaWidth=resizedRect.widthValue-translatedMaxWidthValue)}else{let translatedWidthValue=resizedRect.widthValue/100*parentPixelWidth;translatedWidthValue-deltaWidth>=resizedRect.maxWidthValue&&(deltaWidth=translatedWidthValue-resizedRect.maxWidthValue)}if(null!==resizedRect.minWidthValue)if(resizedRect.widthUnit===resizedRect.minWidthUnit)resizedRect.widthValue-deltaWidth<=resizedRect.minWidthValue&&(deltaWidth=resizedRect.widthValue-resizedRect.minWidthValue);else if("%"!==resizedRect.widthUnit){let translatedMinWidthValue=resizedRect.minWidthValue/100*parentPixelWidth;resizedRect.widthValue-deltaWidth<=translatedMinWidthValue&&(deltaWidth=resizedRect.widthValue-translatedMinWidthValue)}else{let translatedWidthValue=resizedRect.widthValue/100*parentPixelWidth;translatedWidthValue-deltaWidth<=resizedRect.minWidthValue&&(deltaWidth=translatedWidthValue-resizedRect.minWidthValue)}"%"!==resizedRect.widthUnit?resizedRect.widthValue-deltaWidth<=0&&(deltaWidth=resizedRect.widthValue):resizedRect.widthValue-100*deltaWidth/parentPixelWidth<=0&&(deltaWidth=resizedRect.widthValue),offset=this.__getResizedRectRotationOffset(resizedRect.widthValue,resizedRect.heightValue,deltaWidth,deltaHeight,radians,sinAlpha,cosAlpha)}else if(null===resizedRect.widthValue&&null!==resizedRect.leftValue&&null!==resizedRect.rightValue){let dummyLeft=resizedRect.leftValue;"%"!==resizedRect.leftUnit?dummyLeft+=-offset.left+deltaWidth:(dummyLeft+=100*(-offset.left+deltaWidth)/parentPixelWidth,dummyLeft=parentPixelWidth*(dummyLeft/100));let dummyRight=resizedRect.rightValue;"%"!==resizedRect.rightUnit?dummyRight+=offset.left:(dummyRight+=100*offset.left/parentPixelWidth,dummyRight=parentPixelWidth*(dummyRight/100)),dummyLeft+dummyRight>=parentPixelWidth&&(deltaWidth=ctrlMeta.controlCssPixelDimension.width??0,offset=this.__getResizedRectRotationOffset(resizedRect.widthValue,resizedRect.heightValue,deltaWidth,deltaHeight,radians,sinAlpha,cosAlpha))}null!==resizedRect.widthValue?"%"!==resizedRect.widthUnit?resizedRect.widthValue+=-deltaWidth:resizedRect.widthValue+=100*-deltaWidth/parentPixelWidth:(null===resizedRect.leftValue&&null!==resizedRect.rightValue||null!==resizedRect.leftValue&&null===resizedRect.rightValue)&&("%"!==resizedRect.widthUnit?resizedRect.widthValue=(ctrlMeta.controlCssPixelDimension.width??0)-deltaWidth:resizedRect.widthValue=(ctrlMeta.controlCssPixelDimension.width??0)/parentPixelWidth*100-100*deltaWidth/parentPixelWidth),null!==resizedRect.heightValue?"%"!==resizedRect.heightUnit?resizedRect.heightValue+=deltaHeight:resizedRect.heightValue+=100*deltaHeight/parentPixelHeight:(null===resizedRect.topValue&&null!==resizedRect.bottomValue||null!==resizedRect.topValue&&null===resizedRect.bottomValue)&&("%"!==resizedRect.heightUnit?resizedRect.heightValue=(ctrlMeta.controlCssPixelDimension.height??0)+deltaHeight:resizedRect.heightValue=(ctrlMeta.controlCssPixelDimension.height??0)/parentPixelHeight*100+100*deltaHeight/parentPixelHeight),null!==resizedRect.leftValue&&("%"!==resizedRect.leftUnit?resizedRect.leftValue+=-offset.left+deltaWidth:resizedRect.leftValue+=100*(-offset.left+deltaWidth)/parentPixelWidth),null!==resizedRect.topValue&&("%"!==resizedRect.topUnit?resizedRect.topValue+=offset.top:resizedRect.topValue+=100*offset.top/parentPixelHeight),null!==resizedRect.rightValue&&("%"!==resizedRect.rightUnit?resizedRect.rightValue+=offset.left:resizedRect.rightValue+=100*offset.left/parentPixelWidth),null!==resizedRect.bottomValue&&("%"!==resizedRect.bottomUnit?resizedRect.bottomValue+=-(offset.top+deltaHeight):resizedRect.bottomValue+=100*-(offset.top+deltaHeight)/parentPixelHeight);break;case"BottomCenter":if(ctrlMeta.isPartialRoot&&(null!==resizedRect.heightValue&&"%"===resizedRect.heightUnit&&(resizedRect.heightUnit="px",resizedRect.heightValue=resizedRect.heightValue/100*positionInsideControl.height),null!==resizedRect.bottomValue&&"px"===resizedRect.bottomUnit&&(resizedRect.bottomUnit="px",resizedRect.bottomValue=resizedRect.bottomValue/100*parentPixelHeight)),offset=this.__getResizedRectRotationOffset(resizedRect.widthValue,resizedRect.heightValue,0,deltaHeight,radians,sinAlpha,cosAlpha),null!==resizedRect.maxHeightValue)if(resizedRect.heightUnit===resizedRect.maxHeightUnit)(resizedRect.heightValue??0)>resizedRect.maxHeightValue&&(resizedRect.heightValue=resizedRect.maxHeightValue);else if("%"!==resizedRect.heightUnit){let translatedMaxHeightValue=resizedRect.maxHeightValue/100*parentPixelHeight;(resizedRect.heightValue??0)>translatedMaxHeightValue&&(resizedRect.heightValue=translatedMaxHeightValue)}else{(resizedRect.heightValue??0)/100*parentPixelHeight>resizedRect.maxHeightValue&&(resizedRect.heightValue=resizedRect.maxHeightValue/parentPixelHeight*100)}if(null!==resizedRect.minHeightValue)if(resizedRect.heightUnit===resizedRect.minHeightUnit)(resizedRect.heightValue??0)<resizedRect.minHeightValue&&(resizedRect.heightValue=resizedRect.minHeightValue);else if("%"!==resizedRect.heightUnit){let translatedMinHeightValue=resizedRect.minHeightValue/100*parentPixelHeight;(resizedRect.heightValue??0)<translatedMinHeightValue&&(resizedRect.heightValue=translatedMinHeightValue)}else{(resizedRect.heightValue??0)/100*parentPixelHeight<resizedRect.minHeightValue&&(resizedRect.heightValue=resizedRect.minHeightValue/parentPixelHeight*100)}if(null!==resizedRect.maxHeightValue)if(resizedRect.heightUnit===resizedRect.maxHeightUnit)(resizedRect.heightValue??0)+deltaHeight>=resizedRect.maxHeightValue&&(deltaHeight=resizedRect.maxHeightValue-(resizedRect.heightValue??0));else if("%"!==resizedRect.heightUnit){let translatedMaxHeightValue=resizedRect.maxHeightValue/100*parentPixelHeight;(resizedRect.heightValue??0)+deltaHeight>=translatedMaxHeightValue&&(deltaHeight=translatedMaxHeightValue-(resizedRect.heightValue??0))}else{let translatedHeightValue=(resizedRect.heightValue??0)/100*parentPixelHeight;translatedHeightValue+deltaHeight>=resizedRect.maxHeightValue&&(deltaHeight=resizedRect.maxHeightValue-translatedHeightValue)}if(null!==resizedRect.minHeightValue)if(resizedRect.heightUnit===resizedRect.minHeightUnit)(resizedRect.heightValue??0)+deltaHeight<=resizedRect.minHeightValue&&(deltaHeight=resizedRect.minHeightValue-(resizedRect.heightValue??0));else if("%"!==resizedRect.heightUnit){let translatedMinHeightValue=resizedRect.minHeightValue/100*parentPixelHeight;(resizedRect.heightValue??0)+deltaHeight<=translatedMinHeightValue&&(deltaHeight=translatedMinHeightValue-(resizedRect.heightValue??0))}else{let translatedHeightValue=(resizedRect.heightValue??0)/100*parentPixelHeight;translatedHeightValue+deltaHeight<=resizedRect.minHeightValue&&(deltaHeight=resizedRect.minHeightValue-translatedHeightValue)}if(null!==resizedRect.heightValue)"%"!==resizedRect.heightUnit?resizedRect.heightValue+deltaHeight<=0&&(deltaHeight=-resizedRect.heightValue):resizedRect.heightValue+100*deltaHeight/parentPixelHeight<=0&&(deltaHeight=-resizedRect.heightValue),offset=this.__getResizedRectRotationOffset(resizedRect.widthValue,resizedRect.heightValue,0,deltaHeight,radians,sinAlpha,cosAlpha);else if(null===resizedRect.heightValue&&null!==resizedRect.topValue&&null!==resizedRect.bottomValue){let dummyTop=resizedRect.topValue;"%"!==resizedRect.topUnit?dummyTop+=offset.top:(dummyTop+=100*offset.top/parentPixelHeight,dummyTop=parentPixelHeight*(dummyTop/100));let dummyBottom=resizedRect.bottomValue;"%"!==resizedRect.bottomUnit?dummyBottom+=-(deltaHeight+offset.top):(dummyBottom+=100*-(deltaHeight+offset.top)/parentPixelHeight,dummyBottom=parentPixelHeight*(dummyBottom/100)),dummyTop+dummyBottom>=parentPixelHeight&&(deltaHeight=-(ctrlMeta.controlCssPixelDimension.height??0),offset=this.__getResizedRectRotationOffset(resizedRect.widthValue,resizedRect.heightValue,0,deltaHeight,radians,sinAlpha,cosAlpha))}null!==resizedRect.heightValue?"%"!==resizedRect.heightUnit?resizedRect.heightValue+=deltaHeight:resizedRect.heightValue+=100*deltaHeight/parentPixelHeight:(null===resizedRect.topValue&&null!==resizedRect.bottomValue||null!==resizedRect.topValue&&null===resizedRect.bottomValue)&&("%"!==resizedRect.heightUnit?resizedRect.heightValue=(ctrlMeta.controlCssPixelDimension.height??0)+deltaHeight:resizedRect.heightValue=(ctrlMeta.controlCssPixelDimension.height??0)/parentPixelHeight*100+100*deltaHeight/parentPixelHeight),null!==resizedRect.leftValue&&("%"!==resizedRect.leftUnit?resizedRect.leftValue+=-offset.left:resizedRect.leftValue+=100*-offset.left/parentPixelWidth),null!==resizedRect.topValue&&("%"!==resizedRect.topUnit?resizedRect.topValue+=offset.top:resizedRect.topValue+=100*offset.top/parentPixelHeight),null!==resizedRect.rightValue&&("%"!==resizedRect.rightUnit?resizedRect.rightValue+=offset.left:resizedRect.rightValue+=100*offset.left/parentPixelWidth),null!==resizedRect.bottomValue&&("%"!==resizedRect.bottomUnit?resizedRect.bottomValue+=-(deltaHeight+offset.top):resizedRect.bottomValue+=100*-(deltaHeight+offset.top)/parentPixelHeight);break;case"BottomRight":if(ctrlMeta.isPartialRoot&&(null!==resizedRect.heightValue&&"%"===resizedRect.heightUnit&&(resizedRect.heightUnit="px",resizedRect.heightValue=resizedRect.heightValue/100*positionInsideControl.height),null!==resizedRect.widthValue&&"%"===resizedRect.widthUnit&&(resizedRect.widthUnit="px",resizedRect.widthValue=resizedRect.widthValue/100*positionInsideControl.width),null!==resizedRect.bottomValue&&"%"===resizedRect.bottomUnit&&(resizedRect.bottomUnit="px",resizedRect.bottomValue=resizedRect.bottomValue/100*parentPixelHeight),null!==resizedRect.rightValue&&"%"===resizedRect.rightUnit&&(resizedRect.rightUnit="px",resizedRect.rightValue=resizedRect.rightValue/100*parentPixelWidth)),offset=this.__getResizedRectRotationOffset(resizedRect.widthValue,resizedRect.heightValue,deltaWidth,deltaHeight,radians,sinAlpha,cosAlpha),null!==resizedRect.heightValue){if(null!==resizedRect.maxHeightValue)if(resizedRect.heightUnit===resizedRect.maxHeightUnit)resizedRect.heightValue>resizedRect.maxHeightValue&&(resizedRect.heightValue=resizedRect.maxHeightValue);else if("%"!==resizedRect.heightUnit){let translatedMaxHeightValue=resizedRect.maxHeightValue/100*parentPixelHeight;resizedRect.heightValue>translatedMaxHeightValue&&(resizedRect.heightValue=translatedMaxHeightValue)}else{resizedRect.heightValue/100*parentPixelHeight>resizedRect.maxHeightValue&&(resizedRect.heightValue=resizedRect.maxHeightValue/parentPixelHeight*100)}if(null!==resizedRect.minHeightValue)if(resizedRect.heightUnit===resizedRect.minHeightUnit)resizedRect.heightValue<resizedRect.minHeightValue&&(resizedRect.heightValue=resizedRect.minHeightValue);else if("%"!==resizedRect.heightUnit){let translatedMinHeightValue=resizedRect.minHeightValue/100*parentPixelHeight;resizedRect.heightValue<translatedMinHeightValue&&(resizedRect.heightValue=translatedMinHeightValue)}else{resizedRect.heightValue/100*parentPixelHeight<resizedRect.minHeightValue&&(resizedRect.heightValue=resizedRect.minHeightValue/parentPixelHeight*100)}if(null!==resizedRect.maxHeightValue)if(resizedRect.heightUnit===resizedRect.maxHeightUnit)resizedRect.heightValue+deltaHeight>=resizedRect.maxHeightValue&&(deltaHeight=resizedRect.maxHeightValue-resizedRect.heightValue);else if("%"!==resizedRect.heightUnit){let translatedMaxHeightValue=resizedRect.maxHeightValue/100*parentPixelHeight;resizedRect.heightValue+deltaHeight>=translatedMaxHeightValue&&(deltaHeight=translatedMaxHeightValue-resizedRect.heightValue)}else{let translatedHeightValue=resizedRect.heightValue/100*parentPixelHeight;translatedHeightValue+deltaHeight>=resizedRect.maxHeightValue&&(deltaHeight=resizedRect.maxHeightValue-translatedHeightValue)}if(null!==resizedRect.minHeightValue)if(resizedRect.heightUnit===resizedRect.minHeightUnit)resizedRect.heightValue+deltaHeight<=resizedRect.minHeightValue&&(deltaHeight=resizedRect.minHeightValue-resizedRect.heightValue);else if("%"!==resizedRect.heightUnit){let translatedMinHeightValue=resizedRect.minHeightValue/100*parentPixelHeight;resizedRect.heightValue+deltaHeight<=translatedMinHeightValue&&(deltaHeight=translatedMinHeightValue-resizedRect.heightValue)}else{let translatedHeightValue=resizedRect.heightValue/100*parentPixelHeight;translatedHeightValue+deltaHeight<=resizedRect.minHeightValue&&(deltaHeight=resizedRect.minHeightValue-translatedHeightValue)}"%"!==resizedRect.heightUnit?resizedRect.heightValue+deltaHeight<=0&&(deltaHeight=-resizedRect.heightValue):resizedRect.heightValue+100*deltaHeight/parentPixelHeight<=0&&(deltaHeight=-resizedRect.heightValue),offset=this.__getResizedRectRotationOffset(resizedRect.widthValue,resizedRect.heightValue,deltaWidth,deltaHeight,radians,sinAlpha,cosAlpha)}else if(null===resizedRect.heightValue&&null!==resizedRect.topValue&&null!==resizedRect.bottomValue){let dummyTop=resizedRect.topValue;"%"!==resizedRect.topUnit?dummyTop+=offset.top:(dummyTop+=100*offset.top/parentPixelHeight,dummyTop=parentPixelHeight*(dummyTop/100));let dummyBottom=resizedRect.bottomValue;"%"!==resizedRect.bottomUnit?dummyBottom+=-(offset.top+deltaHeight):(dummyBottom+=100*-(offset.top+deltaHeight)/parentPixelHeight,dummyBottom=parentPixelHeight*(dummyBottom/100)),dummyTop+dummyBottom>=parentPixelHeight&&(deltaHeight=-(ctrlMeta.controlCssPixelDimension.height??0),offset=this.__getResizedRectRotationOffset(resizedRect.widthValue,resizedRect.heightValue,deltaWidth,deltaHeight,radians,sinAlpha,cosAlpha))}if(null!==resizedRect.widthValue){if(null!==resizedRect.maxWidthValue)if(resizedRect.widthUnit===resizedRect.maxWidthUnit)resizedRect.widthValue>resizedRect.maxWidthValue&&(resizedRect.widthValue=resizedRect.maxWidthValue);else if("%"!==resizedRect.widthUnit){let translatedMaxWidthValue=resizedRect.maxWidthValue/100*parentPixelWidth;resizedRect.widthValue>translatedMaxWidthValue&&(resizedRect.widthValue=translatedMaxWidthValue)}else{resizedRect.widthValue/100*parentPixelWidth>resizedRect.maxWidthValue&&(resizedRect.widthValue=resizedRect.maxWidthValue/parentPixelWidth*100)}if(null!==resizedRect.minWidthValue)if(resizedRect.widthUnit===resizedRect.minWidthUnit)resizedRect.widthValue<resizedRect.minWidthValue&&(resizedRect.widthValue=resizedRect.minWidthValue);else if("%"!==resizedRect.widthUnit){let translatedMinWidthValue=resizedRect.minWidthValue/100*parentPixelWidth;resizedRect.widthValue<translatedMinWidthValue&&(resizedRect.widthValue=translatedMinWidthValue)}else{resizedRect.widthValue/100*parentPixelWidth<resizedRect.minWidthValue&&(resizedRect.widthValue=resizedRect.minWidthValue/parentPixelWidth*100)}if(null!==resizedRect.maxWidthValue)if(resizedRect.widthUnit===resizedRect.maxWidthUnit)resizedRect.widthValue+deltaWidth>=resizedRect.maxWidthValue&&(deltaWidth=resizedRect.maxWidthValue-resizedRect.widthValue);else if("%"!==resizedRect.widthUnit){let translatedMaxWidthValue=resizedRect.maxWidthValue/100*parentPixelWidth;resizedRect.widthValue+deltaWidth>=translatedMaxWidthValue&&(deltaWidth=translatedMaxWidthValue-resizedRect.widthValue)}else{let translatedWidthValue=resizedRect.widthValue/100*parentPixelWidth;translatedWidthValue+deltaWidth>=resizedRect.maxWidthValue&&(deltaWidth=resizedRect.maxWidthValue-translatedWidthValue)}if(null!==resizedRect.minWidthValue)if(resizedRect.widthUnit===resizedRect.minWidthUnit)resizedRect.widthValue+deltaWidth<=resizedRect.minWidthValue&&(deltaWidth=resizedRect.minWidthValue-resizedRect.widthValue);else if("%"!==resizedRect.widthUnit){let translatedMinWidthValue=resizedRect.minWidthValue/100*parentPixelWidth;resizedRect.widthValue+deltaWidth<=translatedMinWidthValue&&(deltaWidth=translatedMinWidthValue-resizedRect.widthValue)}else{let translatedWidthValue=resizedRect.widthValue/100*parentPixelWidth;translatedWidthValue+deltaWidth<=resizedRect.minWidthValue&&(deltaWidth=resizedRect.minWidthValue-translatedWidthValue)}"%"!==resizedRect.widthUnit?resizedRect.widthValue+deltaWidth<=0&&(deltaWidth=-resizedRect.widthValue):resizedRect.widthValue+100*deltaWidth/parentPixelWidth<=0&&(deltaWidth=-resizedRect.widthValue),offset=this.__getResizedRectRotationOffset(resizedRect.widthValue,resizedRect.heightValue,deltaWidth,deltaHeight,radians,sinAlpha,cosAlpha)}else if(null===resizedRect.widthValue&&null!==resizedRect.leftValue&&null!==resizedRect.rightValue){let dummyLeft=resizedRect.leftValue;"%"!==resizedRect.leftUnit?dummyLeft+=-offset.left:(dummyLeft+=100*-offset.left/parentPixelWidth,dummyLeft=parentPixelWidth*(dummyLeft/100));let dummyRight=resizedRect.rightValue;"%"!==resizedRect.rightUnit?dummyRight+=-(-offset.left+deltaWidth):(dummyRight+=100*-(-offset.left+deltaWidth)/parentPixelWidth,dummyRight=parentPixelWidth*(dummyRight/100)),dummyLeft+dummyRight>=parentPixelWidth&&(deltaWidth=-(ctrlMeta.controlCssPixelDimension.width??0),offset=this.__getResizedRectRotationOffset(resizedRect.widthValue,resizedRect.heightValue,deltaWidth,deltaHeight,radians,sinAlpha,cosAlpha))}null!==resizedRect.widthValue?"%"!==resizedRect.widthUnit?resizedRect.widthValue+=deltaWidth:resizedRect.widthValue+=100*deltaWidth/parentPixelWidth:(null===resizedRect.leftValue&&null!==resizedRect.rightValue||null!==resizedRect.leftValue&&null===resizedRect.rightValue)&&("%"!==resizedRect.widthUnit?resizedRect.widthValue=(ctrlMeta.controlCssPixelDimension.width??0)+deltaWidth:resizedRect.widthValue=(ctrlMeta.controlCssPixelDimension.width??0)/parentPixelWidth*100+100*deltaWidth/parentPixelWidth),null!==resizedRect.heightValue?"%"!==resizedRect.heightUnit?resizedRect.heightValue+=deltaHeight:resizedRect.heightValue+=100*deltaHeight/parentPixelHeight:(null===resizedRect.topValue&&null!==resizedRect.bottomValue||null!==resizedRect.topValue&&null===resizedRect.bottomValue)&&("%"!==resizedRect.heightUnit?resizedRect.heightValue=(ctrlMeta.controlCssPixelDimension.height??0)+deltaHeight:resizedRect.heightValue=(ctrlMeta.controlCssPixelDimension.height??0)/parentPixelHeight*100+100*deltaHeight/parentPixelHeight),null!==resizedRect.leftValue&&("%"!==resizedRect.leftUnit?resizedRect.leftValue+=-offset.left:resizedRect.leftValue+=100*-offset.left/parentPixelWidth),null!==resizedRect.topValue&&("%"!==resizedRect.topUnit?resizedRect.topValue+=offset.top:resizedRect.topValue+=100*offset.top/parentPixelHeight),null!==resizedRect.rightValue&&("%"!==resizedRect.rightUnit?resizedRect.rightValue+=-(-offset.left+deltaWidth):resizedRect.rightValue+=100*-(-offset.left+deltaWidth)/parentPixelWidth),null!==resizedRect.bottomValue&&("%"!==resizedRect.bottomUnit?resizedRect.bottomValue+=-(offset.top+deltaHeight):resizedRect.bottomValue+=100*-(offset.top+deltaHeight)/parentPixelHeight)}return resizedRect}__onAnchorMouseUp(event){1===event.which&&(TcHmi.System.SharedResources.jqDocument.off(this.__anchorMouseMoveNs),TcHmi.System.SharedResources.jqDocument.off(this.__anchorMouseUpNs),null!==this.__activeControl&&(this.__activeControl.jOriginalPosition[0].classList.remove("tchmi-creator-control-snaptop"),this.__activeControl.jOriginalPosition[0].classList.remove("tchmi-creator-control-snapleft"),this.__activeControl.jOriginalPosition[0].classList.remove("tchmi-creator-control-snapbottom"),this.__activeControl.jOriginalPosition[0].classList.remove("tchmi-creator-control-snapright"),this.__activeControl.jOriginalPosition[0].classList.remove("tchmi-creator-control-snaptop-remote"),this.__activeControl.jOriginalPosition[0].classList.remove("tchmi-creator-control-snapleft-remote"),this.__activeControl.jOriginalPosition[0].classList.remove("tchmi-creator-control-snapbottom-remote"),this.__activeControl.jOriginalPosition[0].classList.remove("tchmi-creator-control-snapright-remote"),this.__lockControlResize||(this.__controlResizing=!1,rectSelectManager?.lockRectSelect(),syncManager?.updatePcElementAndSync("System.onControlSizeParameterChanged"),designerModeManager.resyncControls())))}}})();export{DesignerModeMasterControlResizeManager};export const controlResizeManager=new DesignerModeMasterControlResizeManager;