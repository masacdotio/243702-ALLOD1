import{SyncCmdToFramework,registerCommand}from"./SyncCmdToFramework.js";import{designerModeManager}from"./DesignerModeManager.js";import{highlightManager}from"./DesignerModeMasterControlHighlightMngr.js";TCHMI_DESIGNER||TcHmi.Log.errorEx(`Internal error: The file "${import.meta.url}" is restricted to use within the designer.`);export class SyncCmdToFrameworkSyncControls extends SyncCmdToFramework{constructor(cmd){super(cmd)}run(){if(!TCHMI_DESIGNER)return;const preparedTargetPartial=tchmi_path(this.__cmd.targetPartial);if(preparedTargetPartial!==TCHMI_TARGET_PARTIAL)return;let bCausedChanges=!1;for(const control of this.__cmd.controls)try{designerModeManager.syncControl(preparedTargetPartial,control.targetControl,control.controlHtml)&&(bCausedChanges=!0)}catch(e){TcHmi.Log.error(e),this.__result=TcHmi.Errors.ERROR}bCausedChanges&&highlightManager.processDomVisibility()}}SyncCmdToFrameworkSyncControls.supportedCommand="SyncControls",registerCommand(SyncCmdToFrameworkSyncControls);